(()=>{"use strict";const e=(()=>{const e=e=>`${e.slice(0,1)},${e.slice(1,2)}`,t=(e,t,r)=>{const n=document.getElementsByClassName(e)[t-1];n&&(n.style.border=`1px solid ${r}`)};return{isTargetInArray:(e,t)=>{let r=!1;if(JSON.stringify(e)===JSON.stringify(t)&&(r=!0),!e)return r;if(!t)return r;for(let n=0;n<e.length;n++){const s=e[n];JSON.stringify(s)===JSON.stringify(t)&&(r=!0)}return r},changeCoordColor:t,indicateSunk:(r,n)=>{const{currentCoords:s}=r;if("number"==typeof s[0])t(e(s),n,"red");else for(let r=0;r<s.length;r++)t(e(s[r]),n,"red")},classToArray:e=>{const t=[],r=e.slice(0,1),n=e.slice(2,3);return t.push(Number(r)),t.push(Number(n)),t},coordToClass:e}})(),t=(()=>{const t=(e,t,r)=>{let n=t;const s=e;return{isSunk:()=>s===n,hit:()=>n++,currentHits:()=>n,currentCoords:r,shipLength:s}};return{Ship:t,Gameboard:()=>{const r=[],n=[];return{receiveAttack:(t,s)=>{const o=Object.entries(s.coordinates);r.push(t);for(let r=0;r<o.length;r++){let c=!1;const a=o[r][1],i=o[r][0];if(e.isTargetInArray(a,t)){if(c=!0,n.push(t),"carrier"===i&&(s.carrier.hit(),s.carrier.isSunk()))return s.carrier;if("battleShip"===i&&(s.battleShip.hit(),s.battleShip.isSunk()))return s.battleShip;if("battleShip1"===i&&(s.battleShip1.hit(),s.battleShip1.isSunk()))return s.battleShip1;if("cruiser"===i&&(s.cruiser.hit(),s.cruiser.isSunk()))return s.cruiser;if("cruiser1"===i&&(s.cruiser1.hit(),s.cruiser1.isSunk()))return s.cruiser1;if("cruiser2"===i&&(s.cruiser2.hit(),s.cruiser2.isSunk()))return s.cruiser2;if("destroyer"===i&&(s.destroyer.hit(),s.destroyer.isSunk()))return s.destroyer;if("destroyer1"===i&&(s.destroyer1.hit(),s.destroyer1.isSunk()))return s.destroyer1;if("destroyer2"===i&&(s.destroyer2.hit(),s.destroyer2.isSunk()))return s.destroyer2;if("destroyer3"===i&&(s.destroyer3.hit(),s.destroyer3.isSunk()))return s.destroyer3}if(!0===c)break}},deployShips:(e,r,n,s,o,c,a,i,d,l)=>{const u={carrier:e,battleShip:r,battleShip1:n,cruiser:s,cruiser1:o,cruiser2:c,destroyer:a,destroyer1:i,destroyer2:d,destroyer3:l};return{carrier:t(4,0,u.carrier),battleShip:t(3,0,u.battleShip),battleShip1:t(3,0,u.battleShip1),cruiser:t(2,0,u.cruiser),cruiser1:t(2,0,u.cruiser1),cruiser2:t(2,0,u.cruiser2),destroyer:t(1,0,u.destroyer),destroyer1:t(1,0,u.destroyer1),destroyer2:t(1,0,u.destroyer2),destroyer3:t(1,0,u.destroyer3),coordinates:u}},receivedAttacks:r,successAttacks:n,checkSunk:e=>{return!((t=e).carrier.currentCoords&&!t.carrier.isSunk()||t.battleShip.currentCoords&&!t.battleShip.isSunk()||t.battleShip1.currentCoords&&!t.battleShip1.isSunk()||t.cruiser.currentCoords&&!t.cruiser.isSunk()||t.cruiser1.currentCoords&&!t.cruiser1.isSunk()||t.cruiser2.currentCoords&&!t.cruiser2.isSunk()||t.destroyer.currentCoords&&!t.destroyer.isSunk()||t.destroyer1.currentCoords&&!t.destroyer1.isSunk()||t.destroyer2.currentCoords&&!t.destroyer2.isSunk()||t.destroyer3.currentCoords&&!t.destroyer3.isSunk());var t}}}}})(),r=(()=>{const r=(e,t,r)=>{let n=0;"cpu"===r&&(n=1);const s=document.getElementsByClassName(e)[n];s&&(s.textContent=!1===t?"â€¢":"X")},n=(t,r)=>{let n=0;"cpu"===r&&(n=1);const s=e.coordToClass(t),o=document.getElementsByClassName(s)[n];o&&o.replaceWith(o.cloneNode(!0))},s=e=>{const t=[];for(let n=0;n<e.length;n++)(r=e[n])[0]<0||r[1]<0||r[0]>9||r[1]>9||t.push(e[n]);var r;return t},o=e=>{const t=[],r=[e[0]-1,e[1]],n=[e[0]+1,e[1]],s=[e[0],e[1]+1],o=[e[0],e[1]-1];return t.push(r,n,s,o),t},c=(t,c,a,i,d)=>{const l=[];if("object"==typeof t[0])for(let e=0;e<t.length;e++)l.push(o(t[e]));else l.push(o(t));const u=s(l.flat());for(let t=0;t<u.length;t++)e.isTargetInArray(d,u[t])||(r(u[t],!1,i),n(u[t],i),c(u[t],a))},a=e=>{const t=[],r=[e[0]+1,e[1]+1],n=[e[0]+1,e[1]+-1],s=[e[0]-1,e[1]+1],o=[e[0]-1,e[1]-1];return t.push(r,n,s,o),t},i=(e,t,o)=>{const c=a(e),i=s(c);for(let e=0;e<i.length;e++)r(i[e],!1,o),n(i[e],o),t(i[e],!0)};return{Player:(r,n)=>{const s=r,o=n,a=t.Gameboard(),i=a.deployShips(...n);return{playerName:s,playerCoords:o,playerBoard:a,playerShips:i,receiveAttack:t=>{const r=a.receiveAttack(t,i);r&&(e.indicateSunk(r,1),c(r.currentCoords,a.receiveAttack,i,"player",a.successAttacks))}}},cpuPlayer:(n,s)=>{const o=n,a=s,d=t.Gameboard(),l=d.deployShips(...s),u=[],p=(t,n)=>{const s=e=>Math.floor(Math.random()*e),c=[s(10),s(10)];if(e.isTargetInArray(u,c)&&!0!==n)return p();return(t=>{o.receiveAttack(t),u.push(t);const n=o.playerBoard.successAttacks;return e.isTargetInArray(n,t)?(r(t,!0,"player"),i(t,p,"player"),t):r(t,!1,"player")})(t||c)};return{attackPlayer:p,cpuBoard:d,cpuShips:l,cpuCoords:a,usedCoords:u,receiveAttack:t=>{const r=d.receiveAttack(t,l);r&&(e.indicateSunk(r,2),c(r.currentCoords,d.receiveAttack,l,"cpu",d.successAttacks))}}},visualIndicators:r,attackCorners:i,attackAround:c,returnCorners:a,returnSides:o,validateCoords:s}})(),n=(e,t,n)=>{const s=r.Player(e,t);return{Player:s,cpuPlayer:r.cpuPlayer(s,n)}},s=(()=>{const t=(t,n)=>{const s=n.Player.playerShips.coordinates,o=n.cpuPlayer.cpuShips.coordinates,c=e=>n.Player.receiveAttack(e),a=e=>n.cpuPlayer.receiveAttack(e),i=(t,r,n)=>{let s=!1;if(e.isTargetInArray(Object.values(t),r))return n(r),s=!0,!0;for(let o=0;o<t.length;o++){const c=t[o];if(e.isTargetInArray(c,r)){n(r),s=!0;break}}return s},d=(e,t)=>(t(e),!1),l=t=>{const n=t.target.parentElement.className,l=t.target.className,u=e.classToArray(l);if("grid-1"===n){const e=Object.values(s).filter((e=>void 0!==e));!0===i(e,u,c)?(r.visualIndicators(l,!0,"player"),r.attackCorners(u,c,"player")):(d(u,c),r.visualIndicators(l,!1,"player"))}if("grid-2"===n){const e=Object.values(o).filter((e=>void 0!==e));!0===i(e,u,a)?(r.visualIndicators(l,!0,"cpu"),r.attackCorners(u,a,"cpu")):(d(u,a),r.visualIndicators(l,!1,"cpu"))}};for(let e=0;e<t.length;e++)t[e].addEventListener("click",l,{once:!0})},o=e=>{if(e){const t=e.filter((e=>"object"==typeof e[0])),r=e.filter((e=>"number"==typeof e[0]));return t.flat().concat(r)}},c=e=>{const t=e=>{const t=[...r.returnCorners(e),...r.returnSides(e),e];return r.validateCoords(t)},n=[];if("object"!=typeof e[0]){const r=t(e);return n.push(...r),[...new Set(n.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e)))}for(let r=0;r<e.length;r++){const s=t(e[r]);n.push(...s)}return[...new Set(n.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e)))},a=(e,t)=>{let r,n,s=[e.firstCoord];for(let o=0;o<e.coords.length-1;o++){"v"==(t?e.coords[0][0]+1===e.coords[1][0]?"h":"v":e.coords[0][0]+1===e.coords[1][0]?"v":"h")?(r=s[o][0],n=s[o][1]+1):(r=s[o][0]+1,n=s[o][1]);const c=[r,n];s=s.concat([c])}return s},i=(e,t)=>{const r=[...t];return r.splice(e.coordsPosition,1,e.coords),r},d=(t,n)=>{let s=!0;const a=t.coords,{coordsPosition:i}=t,d=[...n];d[i]=[];const l=o(d);if(r.validateCoords(a).length!==a.length)return n;if("number"==typeof a[0])e.isTargetInArray(l,a)&&(s=!1);else for(let t=0;t<a.length;t++)e.isTargetInArray(l,a[t])&&(s=!1);const u=c(a);return!0===s?(d[i]=u,d):n},l=(t,r)=>{let n;for(let s=0;s<t.length;s++)n="number"==typeof t[s]?e.coordToClass(t):e.coordToClass(t[s]),document.getElementsByClassName(n)[0].style.borderColor=r},u=()=>document.getElementsByClassName("select-ships")[0].selectedIndex,p=(e,t)=>{const r=t[e];return((e,t)=>{const r=e;for(let e=0;e<r.length;e++){const t=r[e];l(t,"green")}})(t),l(r,"rgb(37, 214, 199)"),r},m=(e,t,r,n)=>{const s=[Number(e),Number(t)],o=document.getElementsByClassName("grid-wrapper")[0];return n.deleteShownGrid(0),n.genGridOnly(1,o,r),console.log(u()),p(u(),r),l(s,"orange"),s},h=(e,t,r,n,s,o)=>{const c={coords:r[e],firstCoord:t,coordsPosition:e},l=a(c,!0),u={coords:l,firstCoord:l[0],coordsPosition:e},p=(e,t,r,n)=>{if(d(e,t)!==t)return n.deleteElements(0),s(i(e,r),!1,d(e,t),!0)};return"number"==typeof r[e][0]?(c.coords=c.firstCoord,p(c,n,r,o)):p(u,n,r,o),{updateGrid:p}};return{startGame:(e,r,s,o)=>{const c=n("example",s,o);return"shown-grid"!==e.className&&t(e.childNodes,c),"shown-grid"!==r.className&&t(r.childNodes,c),{currentGame:c,gridContainer1:e,gridContainer2:r}},displayGrid:(e,t)=>{(r=>{const n=r=>{if(10!==r){for(let n=0;n<10;n++){const s=document.createElement("div");s.className=`${r},${n}`;const o=document.createElement("div");o.className=`${r},${n}`,e&&e.appendChild(s),t&&t.appendChild(o)}n(r+1)}};n(0)})()},genDOMElements:()=>{const t=(t,r,n)=>{const o=document.createElement("div");return o.className=`grid-${t}`,r.appendChild(o),1===t?s.displayGrid(o,null):s.displayGrid(null,o),n&&(o.className="shown-grid",((t,r)=>{const n=(e=>{const t=[];for(let r=0;r<e.length;r++){const n=e[r];"object"==typeof n[0]?t.push(...n):t.push(n)}return t})(t);for(let t=0;t<n.length;t++)e.changeCoordColor(e.coordToClass(n[t]),r,"green")})(n,t)),o};return{genGrid:(e,r)=>{const n=document.createElement("section");n.className="main-container";const s=document.querySelector("main");s&&s.appendChild(n);const o=document.createElement("div");o.className="grids-container",n&&n.appendChild(o);const c=document.createElement("h3");c.textContent=`Player's ${e} Grid`,o.appendChild(c);const a=document.createElement("div");return a.className="grid-wrapper",((e,t)=>{const r=document.createElement("section"),n=document.createElement("section");r.classList.add("X"),n.classList.add("Y");for(let e=0;e<=9;e++){const t=document.createElement("div");t.textContent=e,n.appendChild(t);const s=document.createElement("div");s.textContent=e,r.appendChild(s)}e.appendChild(r),t.appendChild(n)})(o,a),o.appendChild(a),t(e,a,r)},deleteElements:e=>{const t=document.getElementsByClassName("main-container")[e];t&&t.remove()},genButtons:()=>{(()=>{const e=document.createElement("div");e.classList.add("button-wrapper");const t=document.getElementsByClassName("grids-container")[0];t&&t.appendChild(e)})(),(()=>{const e=document.createElement("button");e.className="random-button",e.textContent="Randomize";const t=document.getElementsByClassName("button-wrapper")[0];t&&t.appendChild(e)})(),(()=>{const e=document.createElement("button");e.className="start-button",e.textContent="Start Game";const t=document.getElementsByClassName("button-wrapper")[0];t&&t.appendChild(e)})(),(()=>{const e=document.createElement("button");e.className="customize-button",e.textContent="Customize";const t=document.getElementsByClassName("button-wrapper")[0];t&&t.appendChild(e)})()},genCoordInputs:()=>{const e=document.getElementsByClassName("main-container")[0],t=document.createElement("label");t.classList.add("inputs-container"),t.htmlFor="select-ships",t.textContent="Set Initial Coord",e.appendChild(t);const r=document.createElement("select");r.classList.add("select-ships"),t.appendChild(r);const n=document.createElement("div");n.classList.add("input-wrapper"),t.appendChild(n);const s=document.createElement("input");s.classList.add("coords-input"),n.appendChild(s);const o=document.createElement("p");o.classList.add("input-text"),o.textContent=",",n.appendChild(o);const c=document.createElement("input");c.classList.add("coords-input"),n.appendChild(c);const a=document.createElement("button");a.classList.add("apply-coords"),a.textContent="Apply",t.appendChild(a);const i=document.createElement("option");i.value="carrier",i.textContent="Carrier",r.appendChild(i);const d=document.createElement("option");d.value="battleship1",d.textContent="Battleship 1",r.appendChild(d);const l=document.createElement("option");l.value="battleship2",l.textContent="Battleship 2",r.appendChild(l);const u=document.createElement("option");u.value="cruiser1",u.textContent="Cruiser 1",r.appendChild(u);const p=document.createElement("option");p.value="cruiser2",p.textContent="Cruiser 2",r.appendChild(p);const m=document.createElement("option");m.value="cruiser3",m.textContent="Cruiser 3",r.appendChild(m);const h=document.createElement("option");h.value="destroyer1",h.textContent="Destroyer 1",r.appendChild(h);const y=document.createElement("option");y.value="destroyer2",y.textContent="Destroyer 2",r.appendChild(y);const C=document.createElement("option");C.value="destroyer3",C.textContent="Destroyer 3",r.appendChild(C);const g=document.createElement("option");g.value="destroyer4",g.textContent="Destroyer 4",r.appendChild(g)},genGridOnly:t,deleteShownGrid:e=>{const t=document.getElementsByClassName("shown-grid")[e];t&&t.remove()}}},endGame:()=>{const e=document.getElementsByClassName("grid-1")[0],t=document.getElementsByClassName("grid-2")[0];e&&e.replaceWith(e.cloneNode(!0)),t&&t.replaceWith(t.cloneNode(!0))},createModal:(e,t)=>{const r=document.querySelector("body"),n=document.createElement("dialog");n.classList.add("modal"),r.appendChild(n);const s=document.createElement("div");n.appendChild(s),s.textContent=t?`${e} won, try again!`:`Congratulations ${e}, you won!`;const o=document.createElement("button");o.textContent="New Game",o.addEventListener("click",(()=>window.location.reload())),n.appendChild(o),n&&n.showModal()},genCoords:()=>{const t=e=>Math.floor(Math.random()*e),r=(e,r,n)=>{if(n){const t=[n[0]+1,n[1]],r=[n[0],n[1]+1];return"v"===e?t:r}let s;return s="v"===e?[t(10-r),t(10)]:[t(10),t(10-r)],1===r&&(s=[t(10),t(10)]),s},n=(s,c)=>{const a=[],i=0===t(2)?"h":"v",d=o(c),l=()=>{const t=r(i,s);e.isTargetInArray(d,t)?l():a.push(t)};for(let e=0;e<s;e++){const e=a[a.length-1],t=r(i,s,e);e?a.push(t):l()}if(1!==a.length){let t=!0;for(let r=0;r<a.length;r++){const n=a[r];e.isTargetInArray(d,n)&&(t=!1)}return!1===t?n(s,d):a}return a[0]};return{genBattleships:()=>{const e=[],t=n(4,e);e.push(c(t));const r=n(3,e);e.push(c(r));const s=n(3,e);e.push(c(s));const o=n(2,e);e.push(c(o));const a=n(2,e);e.push(c(a));const i=n(2,e);e.push(c(i));const d=n(1,e);e.push(c(d));const l=n(1,e);e.push(c(l));const u=n(1,e);e.push(c(u));const p=n(1,e);return e.push(c(p)),{coords:[t,r,s,o,a,i,d,l,u,p],usedCoords:e}},genShipCoord:n,surroundCoords:c}},rotateShips:(t,r,n,s,c)=>{const l=t.filter((e=>"object"==typeof e[0])),u=o(l),p=n=>{const o=n.target.className,u=((t,r)=>{for(let n=0;n<r.length;n++){const s=r[n],o=[s,n];if(e.isTargetInArray(s,t))return o}})(e.classToArray(o),l),p={coords:u[0],firstCoord:u[0][0],coordsPosition:u[1]};if(p.coords=a(p),d(p,r)!==r){const e=document.getElementsByClassName("inputs-container")[0];return c.deleteElements(0),s(i(p,t),!1,d(p,r),e)}return(t=>{for(let r=0;r<t.length;r++){const n=e.coordToClass(t[r]),s=document.getElementsByClassName(n)[0];s.classList.add("invalid-rotation"),setTimeout((()=>{s.classList.remove("invalid-rotation")}),1e3)}})(u[0])};for(let t=0;t<u.length;t++){const r=e.coordToClass(u[t]),s=document.getElementsByClassName(r)[n];s&&s.addEventListener("click",p)}},rotateCoords:a,changeInitialCoord:h,setupEventListeners:(e,t,r,n,o,c,a)=>{const i=document.getElementsByClassName("start-button")[0],d=document.getElementsByClassName("random-button")[0],y=document.getElementsByClassName("customize-button")[0];d&&d.addEventListener("click",(()=>{((e,t,r)=>{r.deleteElements(0);const n=s.genCoords().genBattleships();t(n.coords,!1,n.usedCoords)})(0,c,n)})),y&&(y.addEventListener("click",(()=>{n.genCoordInputs(),((e,t,r,n)=>{const s=document.getElementsByClassName("apply-coords")[0];s&&s.addEventListener("click",(()=>{const s=document.getElementsByClassName("coords-input"),o=[Number(s[0].value),Number(s[1].value)];h(u(),o,e,t,r,n)}));const o=document.getElementsByClassName("select-ships")[0];l(e[0],"rgb(37, 214, 199)"),o&&o.addEventListener("click",(()=>{const t=document.getElementsByClassName("select-ships")[0].selectedIndex;p(t,e)}));const c=document.getElementsByClassName("coords-input")[0],a=document.getElementsByClassName("coords-input")[1];c.addEventListener("input",(()=>{c.value&&a.value&&m(c.value,a.value,e,n)})),a.addEventListener("input",(()=>{c.value&&a.value&&m(c.value,a.value,e,n)}))})(e,r,c,n)}),{once:!0}),o&&y.click()),i&&i.addEventListener("click",(()=>{a(e,t,n)}))}}})();(()=>{const e=(e,t)=>{const r=e.playerShips,n=t.cpuShips,o=()=>{let o=!1;return t.attackPlayer(),e.playerBoard.checkSunk(r)&&(s.endGame(),s.createModal("Player2",!0),o=!0),t.cpuBoard.checkSunk(n)&&(s.endGame(),s.createModal("Player1"),o=!0),o};return{turnLoop:e=>{for(let t=0;t<e.childNodes.length;t++)e.childNodes[t].addEventListener("click",(()=>{o()}),{once:!0})}}},t=(t,r,n)=>{let o;if(n){if(n.deleteElements(0),!0!==r){const e=s.genCoords().genBattleships().coords;n&&(o=s.startGame(n.genGrid(1,t),n.genGrid(2),t,e))}else o=s.startGame(n.genGrid(1,t),n.genGrid(2),t,t);const c=o.currentGame.Player,a=o.currentGame.cpuPlayer,i=e(c,a),d=o.gridContainer2;return e(c,a).turnLoop(d),{playerObj:c,cpuObj:a,currentTurn:i}}},r=(e,n,o,c)=>{const a=s.genDOMElements();return a.genGrid(1,e),a.genButtons(),s.rotateShips(e,o,0,r,a),s.setupEventListeners(e,n,o,a,c,r,t),{currentDOM:a}};return{singlePlayer:t,setupDOM:()=>{const e=s.genCoords().genBattleships(),t=e.coords,{usedCoords:n}=e;return r(t,!1,n),{usedCoords:n}},genInitialElements:r}})().setupDOM()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjYixFQUFVVyxFQUFXQyxHQUNuQ0UsRUFBVUosRUFBUTlILGVBS3hCLE9BRkFvSCxFQUFVVyxFQUFXQyxHQUFRTCxTQUFTTyxHQUUvQixDQUFFSCxZQUFXQyxTQUFRQyxjQUM5QixHQUdJMUIsRUFBcUIsQ0FDekI3UixFQUNBMlIsRUFDQWpNLEVBQ0FrTSxLQUVBLE1BQU16SCxFQUFhN0QsRUFBUzZGLGlCQVE1QixPQU5BaEMsRUFBV3NDLFFBQVEsRUFBR3pNLEdBQ3RCbUssRUFBV3FELGFBQ1hsSCxFQUFTeUssWUFBWS9RLEVBQVEwRixFQUFZLEVBQUdtTSxFQUFvQjFILEdBQ2hFN0QsRUFBU29MLG9CQUFvQjFSLEVBQVEyUixFQUFZak0sRUFBWXlFLEVBQVl5SCxFQUFlQyxFQUFvQnNCLEdBR3JHLENBQUVoSixhQUFXLEVBY3RCLE1BQU8sQ0FDTGdKLGVBQ0FNLFNBWmUsS0FDZixNQUFNbkQsRUFBa0JoSyxFQUFTK0osWUFBWVMsaUJBQ3ZDNUssRUFBZW9LLEVBQWdCdFEsUUFDL0IsV0FBRTBGLEdBQWU0SyxFQUl2QixPQUZBdUIsRUFBbUIzTCxHQUFjLEVBQU9SLEdBRWpDLENBQUVBLGFBQVcsRUFNcEJtTSxxQkFFSCxFQWpIZ0IsR0FtSFI0QixVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnbG9iYWxMb2dpYyA9ICgoKSA9PiB7XG4gIC8vIHRoZXNlIGZ1bmN0aW9ucyBhcmUgdXNlZCBpbiBhbG1vc3QgZXZlcnkgb3RoZXIgbW9kdWxlLCBzbyBpIG5lZWQgdG8gaGF2ZSB0aGVtIGhlcmUgaW4gb3JkZXIgdG8gaW52b2tlIHRoZW0uXG5cbiAgY29uc3QgaXNUYXJnZXRJbkFycmF5ID0gKGFyciwgdGFyZ2V0KSA9PiB7XG4gICAgbGV0IGNvbnRhaW5zID0gZmFsc2U7XG5cbiAgICBpZiAoSlNPTi5zdHJpbmdpZnkoYXJyKSA9PT0gSlNPTi5zdHJpbmdpZnkodGFyZ2V0KSkgY29udGFpbnMgPSB0cnVlO1xuXG4gICAgaWYgKCFhcnIpIHJldHVybiBjb250YWlucztcblxuICAgIGlmICghdGFyZ2V0KSByZXR1cm4gY29udGFpbnM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGFycltpXTtcblxuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGVsZW1lbnQpID09PSBKU09OLnN0cmluZ2lmeSh0YXJnZXQpKSBjb250YWlucyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRhaW5zO1xuICB9O1xuXG4gIGNvbnN0IGNsYXNzVG9BcnJheSA9IChjbGFzc0Nvb3JkKSA9PiB7XG4gICAgY29uc3QgYXJyYXlDb29yZCA9IFtdO1xuXG4gICAgY29uc3QgeCA9IGNsYXNzQ29vcmQuc2xpY2UoMCwgMSk7XG4gICAgY29uc3QgeSA9IGNsYXNzQ29vcmQuc2xpY2UoMiwgMyk7XG5cbiAgICBhcnJheUNvb3JkLnB1c2goTnVtYmVyKHgpKTtcbiAgICBhcnJheUNvb3JkLnB1c2goTnVtYmVyKHkpKTtcblxuICAgIHJldHVybiBhcnJheUNvb3JkO1xuICB9O1xuXG4gIGNvbnN0IGNvb3JkVG9DbGFzcyA9IChhcnIpID0+IGAke2Fyci5zbGljZSgwLCAxKX0sJHthcnIuc2xpY2UoMSwgMil9YDtcblxuICBjb25zdCBjaGFuZ2VDb29yZENvbG9yID0gKGNsYXNzTmFtZSwgZ3JpZE51bWJlciwgY29sb3IpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Q29vcmQgPVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpW2dyaWROdW1iZXIgLSAxXTtcblxuICAgIGlmIChjdXJyZW50Q29vcmQpIGN1cnJlbnRDb29yZC5zdHlsZS5ib3JkZXIgPSBgMXB4IHNvbGlkICR7Y29sb3J9YDtcbiAgfTtcblxuICBjb25zdCBpbmRpY2F0ZVN1bmsgPSAoc2hpcCwgZ3JpZE51bWJlcikgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudENvb3JkcyB9ID0gc2hpcDtcblxuICAgIGlmICh0eXBlb2YgY3VycmVudENvb3Jkc1swXSA9PT0gXCJudW1iZXJcIilcbiAgICAgIC8vIHdoZW4gdGhlIHNoaXAgb25seSBoYXMgb25lIGNvb3JkaW5hdGUuXG4gICAgICBjaGFuZ2VDb29yZENvbG9yKGNvb3JkVG9DbGFzcyhjdXJyZW50Q29vcmRzKSwgZ3JpZE51bWJlciwgXCJyZWRcIik7XG4gICAgZWxzZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50Q29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNoYW5nZUNvb3JkQ29sb3IoY29vcmRUb0NsYXNzKGN1cnJlbnRDb29yZHNbaV0pLCBncmlkTnVtYmVyLCBcInJlZFwiKTtcbiAgICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGlzVGFyZ2V0SW5BcnJheSxcbiAgICBjaGFuZ2VDb29yZENvbG9yLFxuICAgIGluZGljYXRlU3VuayxcbiAgICBjbGFzc1RvQXJyYXksXG4gICAgY29vcmRUb0NsYXNzLFxuICB9O1xufSkoKTtcblxuY29uc3QgbWFpbk9iamVjdHMgPSAoKCkgPT4ge1xuICBjb25zdCBTaGlwID0gKGxlbmd0aE51bWJlciwgaGl0c051bWJlciwgY29vcmRzKSA9PiB7XG4gICAgY29uc3QgY3VycmVudENvb3JkcyA9IGNvb3JkcztcblxuICAgIGNvbnN0IGNoZWNrU3VuayA9IChsZW5ndGgsIGhpdHMpID0+IHtcbiAgICAgIGlmIChsZW5ndGggPT09IGhpdHMpIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBsZXQgc2hpcEhpdHMgPSBoaXRzTnVtYmVyO1xuXG4gICAgY29uc3Qgc2hpcExlbmd0aCA9IGxlbmd0aE51bWJlcjtcblxuICAgIGNvbnN0IGlzU3VuayA9ICgpID0+IGNoZWNrU3VuayhzaGlwTGVuZ3RoLCBzaGlwSGl0cyk7XG5cbiAgICBjb25zdCBoaXQgPSAoKSA9PiBzaGlwSGl0cysrO1xuXG4gICAgY29uc3QgY3VycmVudEhpdHMgPSAoKSA9PiBzaGlwSGl0cztcblxuICAgIHJldHVybiB7IGlzU3VuaywgaGl0LCBjdXJyZW50SGl0cywgY3VycmVudENvb3Jkcywgc2hpcExlbmd0aCB9O1xuICB9O1xuXG4gIGNvbnN0IEdhbWVib2FyZCA9ICgpID0+IHtcbiAgICBjb25zdCBkZXBsb3lTaGlwcyA9IChcbiAgICAgIGNhcnJpZXJDb3JkcyxcbiAgICAgIGJhdHRsZVNoaXBDb3JkcyxcbiAgICAgIGJhdHRsZVNoaXAxQ29yZHMsXG4gICAgICBjcnVpc2VyQ29yZHMsXG4gICAgICBjcnVpc2VyMUNvcmRzLFxuICAgICAgY3J1aXNlcjJDb3JkcyxcbiAgICAgIGRlc3Ryb3llckNvcmRzLFxuICAgICAgZGVzdHJveWVyMUNvcmRzLFxuICAgICAgZGVzdHJveWVyMkNvcmRzLFxuICAgICAgZGVzdHJveWVyM0NvcmRzXG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBjb29yZGluYXRlcyA9IHtcbiAgICAgICAgY2FycmllcjogY2FycmllckNvcmRzLFxuICAgICAgICBiYXR0bGVTaGlwOiBiYXR0bGVTaGlwQ29yZHMsXG4gICAgICAgIGJhdHRsZVNoaXAxOiBiYXR0bGVTaGlwMUNvcmRzLFxuICAgICAgICBjcnVpc2VyOiBjcnVpc2VyQ29yZHMsXG4gICAgICAgIGNydWlzZXIxOiBjcnVpc2VyMUNvcmRzLFxuICAgICAgICBjcnVpc2VyMjogY3J1aXNlcjJDb3JkcyxcbiAgICAgICAgZGVzdHJveWVyOiBkZXN0cm95ZXJDb3JkcyxcbiAgICAgICAgZGVzdHJveWVyMTogZGVzdHJveWVyMUNvcmRzLFxuICAgICAgICBkZXN0cm95ZXIyOiBkZXN0cm95ZXIyQ29yZHMsXG4gICAgICAgIGRlc3Ryb3llcjM6IGRlc3Ryb3llcjNDb3JkcyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNhcnJpZXIgPSBTaGlwKDQsIDAsIGNvb3JkaW5hdGVzLmNhcnJpZXIpO1xuXG4gICAgICBjb25zdCBiYXR0bGVTaGlwID0gU2hpcCgzLCAwLCBjb29yZGluYXRlcy5iYXR0bGVTaGlwKTtcblxuICAgICAgY29uc3QgYmF0dGxlU2hpcDEgPSBTaGlwKDMsIDAsIGNvb3JkaW5hdGVzLmJhdHRsZVNoaXAxKTtcblxuICAgICAgY29uc3QgY3J1aXNlciA9IFNoaXAoMiwgMCwgY29vcmRpbmF0ZXMuY3J1aXNlcik7XG5cbiAgICAgIGNvbnN0IGNydWlzZXIxID0gU2hpcCgyLCAwLCBjb29yZGluYXRlcy5jcnVpc2VyMSk7XG5cbiAgICAgIGNvbnN0IGNydWlzZXIyID0gU2hpcCgyLCAwLCBjb29yZGluYXRlcy5jcnVpc2VyMik7XG5cbiAgICAgIGNvbnN0IGRlc3Ryb3llciA9IFNoaXAoMSwgMCwgY29vcmRpbmF0ZXMuZGVzdHJveWVyKTtcblxuICAgICAgY29uc3QgZGVzdHJveWVyMSA9IFNoaXAoMSwgMCwgY29vcmRpbmF0ZXMuZGVzdHJveWVyMSk7XG5cbiAgICAgIGNvbnN0IGRlc3Ryb3llcjIgPSBTaGlwKDEsIDAsIGNvb3JkaW5hdGVzLmRlc3Ryb3llcjIpO1xuXG4gICAgICBjb25zdCBkZXN0cm95ZXIzID0gU2hpcCgxLCAwLCBjb29yZGluYXRlcy5kZXN0cm95ZXIzKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2FycmllcixcbiAgICAgICAgYmF0dGxlU2hpcCxcbiAgICAgICAgYmF0dGxlU2hpcDEsXG4gICAgICAgIGNydWlzZXIsXG4gICAgICAgIGNydWlzZXIxLFxuICAgICAgICBjcnVpc2VyMixcbiAgICAgICAgZGVzdHJveWVyLFxuICAgICAgICBkZXN0cm95ZXIxLFxuICAgICAgICBkZXN0cm95ZXIyLFxuICAgICAgICBkZXN0cm95ZXIzLFxuICAgICAgICBjb29yZGluYXRlcyxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHJlY2VpdmVkQXR0YWNrcyA9IFtdO1xuXG4gICAgY29uc3Qgc3VjY2Vzc0F0dGFja3MgPSBbXTtcblxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAodGFyZ2V0Q29yZHMsIHBsYXllclNoaXBzKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50U2hpcHMgPSBPYmplY3QuZW50cmllcyhwbGF5ZXJTaGlwcy5jb29yZGluYXRlcyk7XG4gICAgICByZWNlaXZlZEF0dGFja3MucHVzaCh0YXJnZXRDb3Jkcyk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFNoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzdWNjZXNzID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgc2hpcENvcmRzID0gY3VycmVudFNoaXBzW2ldWzFdO1xuXG4gICAgICAgIGNvbnN0IHNoaXBOYW1lID0gY3VycmVudFNoaXBzW2ldWzBdO1xuXG4gICAgICAgIGlmIChnbG9iYWxMb2dpYy5pc1RhcmdldEluQXJyYXkoc2hpcENvcmRzLCB0YXJnZXRDb3JkcykpIHtcbiAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICAgIHN1Y2Nlc3NBdHRhY2tzLnB1c2godGFyZ2V0Q29yZHMpO1xuXG4gICAgICAgICAgLy8gaWYgdGhlIHRhcmdldCBjb3JkcyBtYXRjaGVzIGEgc2hpcCBjb3Jkcy5cbiAgICAgICAgICBpZiAoc2hpcE5hbWUgPT09IFwiY2FycmllclwiKSB7XG4gICAgICAgICAgICBwbGF5ZXJTaGlwcy5jYXJyaWVyLmhpdCgpO1xuICAgICAgICAgICAgaWYgKHBsYXllclNoaXBzLmNhcnJpZXIuaXNTdW5rKCkpIHJldHVybiBwbGF5ZXJTaGlwcy5jYXJyaWVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2hpcE5hbWUgPT09IFwiYmF0dGxlU2hpcFwiKSB7XG4gICAgICAgICAgICBwbGF5ZXJTaGlwcy5iYXR0bGVTaGlwLmhpdCgpO1xuICAgICAgICAgICAgaWYgKHBsYXllclNoaXBzLmJhdHRsZVNoaXAuaXNTdW5rKCkpIHJldHVybiBwbGF5ZXJTaGlwcy5iYXR0bGVTaGlwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2hpcE5hbWUgPT09IFwiYmF0dGxlU2hpcDFcIikge1xuICAgICAgICAgICAgcGxheWVyU2hpcHMuYmF0dGxlU2hpcDEuaGl0KCk7XG4gICAgICAgICAgICBpZiAocGxheWVyU2hpcHMuYmF0dGxlU2hpcDEuaXNTdW5rKCkpXG4gICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJTaGlwcy5iYXR0bGVTaGlwMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcImNydWlzZXJcIikge1xuICAgICAgICAgICAgcGxheWVyU2hpcHMuY3J1aXNlci5oaXQoKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJTaGlwcy5jcnVpc2VyLmlzU3VuaygpKSByZXR1cm4gcGxheWVyU2hpcHMuY3J1aXNlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcImNydWlzZXIxXCIpIHtcbiAgICAgICAgICAgIHBsYXllclNoaXBzLmNydWlzZXIxLmhpdCgpO1xuICAgICAgICAgICAgaWYgKHBsYXllclNoaXBzLmNydWlzZXIxLmlzU3VuaygpKSByZXR1cm4gcGxheWVyU2hpcHMuY3J1aXNlcjE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzaGlwTmFtZSA9PT0gXCJjcnVpc2VyMlwiKSB7XG4gICAgICAgICAgICBwbGF5ZXJTaGlwcy5jcnVpc2VyMi5oaXQoKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJTaGlwcy5jcnVpc2VyMi5pc1N1bmsoKSkgcmV0dXJuIHBsYXllclNoaXBzLmNydWlzZXIyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2hpcE5hbWUgPT09IFwiZGVzdHJveWVyXCIpIHtcbiAgICAgICAgICAgIHBsYXllclNoaXBzLmRlc3Ryb3llci5oaXQoKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJTaGlwcy5kZXN0cm95ZXIuaXNTdW5rKCkpIHJldHVybiBwbGF5ZXJTaGlwcy5kZXN0cm95ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzaGlwTmFtZSA9PT0gXCJkZXN0cm95ZXIxXCIpIHtcbiAgICAgICAgICAgIHBsYXllclNoaXBzLmRlc3Ryb3llcjEuaGl0KCk7XG4gICAgICAgICAgICBpZiAocGxheWVyU2hpcHMuZGVzdHJveWVyMS5pc1N1bmsoKSkgcmV0dXJuIHBsYXllclNoaXBzLmRlc3Ryb3llcjE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzaGlwTmFtZSA9PT0gXCJkZXN0cm95ZXIyXCIpIHtcbiAgICAgICAgICAgIHBsYXllclNoaXBzLmRlc3Ryb3llcjIuaGl0KCk7XG4gICAgICAgICAgICBpZiAocGxheWVyU2hpcHMuZGVzdHJveWVyMi5pc1N1bmsoKSkgcmV0dXJuIHBsYXllclNoaXBzLmRlc3Ryb3llcjI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzaGlwTmFtZSA9PT0gXCJkZXN0cm95ZXIzXCIpIHtcbiAgICAgICAgICAgIHBsYXllclNoaXBzLmRlc3Ryb3llcjMuaGl0KCk7XG4gICAgICAgICAgICBpZiAocGxheWVyU2hpcHMuZGVzdHJveWVyMy5pc1N1bmsoKSkgcmV0dXJuIHBsYXllclNoaXBzLmRlc3Ryb3llcjM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IHRydWUpIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjaGVja1N1bmsgPSAocGxheWVyU2hpcHMpID0+IHtcbiAgICAgIGNvbnN0IGFyZUFsbFN1bmsgPSAoc2hpcHMpID0+IHtcbiAgICAgICAgLy8gZWl0aGVyIHdlIGRpZG4ndCBkZWZpbmVkIHRoZSBjb3JkcyBvZiBhIHNoaXAgKHVuZGVmaW5lZCksIG9yIGl0IGlzIGFjdHVhbGx5IHN1bmssIHdlIHRha2UgdGhhdCBhcyB0cnVlLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgKCFzaGlwcy5jYXJyaWVyLmN1cnJlbnRDb29yZHMgfHwgc2hpcHMuY2Fycmllci5pc1N1bmsoKSkgJiZcbiAgICAgICAgICAoIXNoaXBzLmJhdHRsZVNoaXAuY3VycmVudENvb3JkcyB8fCBzaGlwcy5iYXR0bGVTaGlwLmlzU3VuaygpKSAmJlxuICAgICAgICAgICghc2hpcHMuYmF0dGxlU2hpcDEuY3VycmVudENvb3JkcyB8fCBzaGlwcy5iYXR0bGVTaGlwMS5pc1N1bmsoKSkgJiZcbiAgICAgICAgICAoIXNoaXBzLmNydWlzZXIuY3VycmVudENvb3JkcyB8fCBzaGlwcy5jcnVpc2VyLmlzU3VuaygpKSAmJlxuICAgICAgICAgICghc2hpcHMuY3J1aXNlcjEuY3VycmVudENvb3JkcyB8fCBzaGlwcy5jcnVpc2VyMS5pc1N1bmsoKSkgJiZcbiAgICAgICAgICAoIXNoaXBzLmNydWlzZXIyLmN1cnJlbnRDb29yZHMgfHwgc2hpcHMuY3J1aXNlcjIuaXNTdW5rKCkpICYmXG4gICAgICAgICAgKCFzaGlwcy5kZXN0cm95ZXIuY3VycmVudENvb3JkcyB8fCBzaGlwcy5kZXN0cm95ZXIuaXNTdW5rKCkpICYmXG4gICAgICAgICAgKCFzaGlwcy5kZXN0cm95ZXIxLmN1cnJlbnRDb29yZHMgfHwgc2hpcHMuZGVzdHJveWVyMS5pc1N1bmsoKSkgJiZcbiAgICAgICAgICAoIXNoaXBzLmRlc3Ryb3llcjIuY3VycmVudENvb3JkcyB8fCBzaGlwcy5kZXN0cm95ZXIyLmlzU3VuaygpKSAmJlxuICAgICAgICAgICghc2hpcHMuZGVzdHJveWVyMy5jdXJyZW50Q29vcmRzIHx8IHNoaXBzLmRlc3Ryb3llcjMuaXNTdW5rKCkpXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gYXJlQWxsU3VuayhwbGF5ZXJTaGlwcyk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgZGVwbG95U2hpcHMsXG4gICAgICByZWNlaXZlZEF0dGFja3MsXG4gICAgICBzdWNjZXNzQXR0YWNrcyxcbiAgICAgIGNoZWNrU3VuayxcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiB7IFNoaXAsIEdhbWVib2FyZCB9O1xufSkoKTtcblxuY29uc3QgcGxheWVyTG9naWMgPSAoKCkgPT4ge1xuICBjb25zdCB2aXN1YWxJbmRpY2F0b3JzID0gKGNvb3JkLCB3YXNTdWNjZXNzZnVsLCB0YXJnZXQpID0+IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGlmICh0YXJnZXQgPT09IFwiY3B1XCIpIGluZGV4ID0gMTtcblxuICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjb29yZClbaW5kZXhdO1xuXG4gICAgaWYgKGN1cnJlbnROb2RlKSB7XG4gICAgICBpZiAod2FzU3VjY2Vzc2Z1bCA9PT0gZmFsc2UpIGN1cnJlbnROb2RlLnRleHRDb250ZW50ID0gXCLigKJcIjtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCA9IFwiWFwiO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCByZW1vdmVOb2RlTGlzdGVuZXJzID0gKGNvb3JkLCB0YXJnZXQpID0+IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGlmICh0YXJnZXQgPT09IFwiY3B1XCIpIGluZGV4ID0gMTtcblxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBnbG9iYWxMb2dpYy5jb29yZFRvQ2xhc3MoY29vcmQpO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY29vcmRpbmF0ZSlbaW5kZXhdO1xuXG4gICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQucmVwbGFjZVdpdGgoZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlQ29vcmQgPSAoY29vcmQpID0+IHtcbiAgICBpZiAoY29vcmRbMF0gPCAwIHx8IGNvb3JkWzFdIDwgMCB8fCBjb29yZFswXSA+IDkgfHwgY29vcmRbMV0gPiA5KVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlQ29vcmRzID0gKGNvb3JkcykgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRlZENvb3JkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsaWRhdGVDb29yZChjb29yZHNbaV0pKSB2YWxpZGF0ZWRDb29yZHMucHVzaChjb29yZHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVkQ29vcmRzO1xuICB9O1xuXG4gIGNvbnN0IHJldHVyblNpZGVzID0gKG5vZGVDb29yZCkgPT4ge1xuICAgIGNvbnN0IGNvb3JkcyA9IFtdO1xuXG4gICAgY29uc3QgdXAgPSBbbm9kZUNvb3JkWzBdIC0gMSwgbm9kZUNvb3JkWzFdXTtcbiAgICBjb25zdCBkb3duID0gW25vZGVDb29yZFswXSArIDEsIG5vZGVDb29yZFsxXV07XG4gICAgY29uc3QgcmlnaHQgPSBbbm9kZUNvb3JkWzBdLCBub2RlQ29vcmRbMV0gKyAxXTtcbiAgICBjb25zdCBsZWZ0ID0gW25vZGVDb29yZFswXSwgbm9kZUNvb3JkWzFdIC0gMV07XG5cbiAgICBjb29yZHMucHVzaCh1cCwgZG93biwgcmlnaHQsIGxlZnQpO1xuXG4gICAgcmV0dXJuIGNvb3JkcztcbiAgfTtcblxuICBjb25zdCBhdHRhY2tBcm91bmQgPSAoXG4gICAgbm9kZUNvb3JkcyxcbiAgICBhdHRhY2tGdW5jdGlvbixcbiAgICBzaGlwcyxcbiAgICB0YXJnZXQsXG4gICAgc3VjY2Vzc0F0dGFja3NcbiAgKSA9PiB7XG4gICAgY29uc3QgYXJvdW5kQ29vcmRzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG5vZGVDb29yZHNbMF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZUNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcm91bmRDb29yZHMucHVzaChyZXR1cm5TaWRlcyhub2RlQ29vcmRzW2ldKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyb3VuZENvb3Jkcy5wdXNoKHJldHVyblNpZGVzKG5vZGVDb29yZHMpKTsgLy8gd2hlbiB0aGUgc2hpcCBoYXMgb25seSBvbmUgY29vcmQuXG4gICAgfVxuXG4gICAgY29uc3QgZmxhdEFyb3VuZENvb3JkcyA9IHZhbGlkYXRlQ29vcmRzKGFyb3VuZENvb3Jkcy5mbGF0KCkpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbGF0QXJvdW5kQ29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWdsb2JhbExvZ2ljLmlzVGFyZ2V0SW5BcnJheShzdWNjZXNzQXR0YWNrcywgZmxhdEFyb3VuZENvb3Jkc1tpXSkpIHtcbiAgICAgICAgLy8gYXZvaWQgbW9kaWZ5aW5nIHN1Y2Nlc3NmdWwgYXR0YWNrcy5cbiAgICAgICAgdmlzdWFsSW5kaWNhdG9ycyhmbGF0QXJvdW5kQ29vcmRzW2ldLCBmYWxzZSwgdGFyZ2V0KTtcbiAgICAgICAgcmVtb3ZlTm9kZUxpc3RlbmVycyhmbGF0QXJvdW5kQ29vcmRzW2ldLCB0YXJnZXQpO1xuICAgICAgICBhdHRhY2tGdW5jdGlvbihmbGF0QXJvdW5kQ29vcmRzW2ldLCBzaGlwcyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJldHVybkNvcm5lcnMgPSAobm9kZSkgPT4ge1xuICAgIGNvbnN0IGNvcm5lcnMgPSBbXTtcblxuICAgIGNvbnN0IGNvcm5lcjEgPSBbbm9kZVswXSArIDEsIG5vZGVbMV0gKyAxXTtcbiAgICBjb25zdCBjb3JuZXIyID0gW25vZGVbMF0gKyAxLCBub2RlWzFdICsgLTFdO1xuICAgIGNvbnN0IGNvcm5lcjMgPSBbbm9kZVswXSAtIDEsIG5vZGVbMV0gKyAxXTtcbiAgICBjb25zdCBjb3JuZXI0ID0gW25vZGVbMF0gLSAxLCBub2RlWzFdIC0gMV07XG5cbiAgICBjb3JuZXJzLnB1c2goY29ybmVyMSwgY29ybmVyMiwgY29ybmVyMywgY29ybmVyNCk7XG5cbiAgICByZXR1cm4gY29ybmVycztcbiAgfTtcblxuICBjb25zdCBhdHRhY2tDb3JuZXJzID0gKG5vZGVDb29yZCwgYXR0YWNrRnVuY3Rpb24sIHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IGNvcm5lcnMgPSByZXR1cm5Db3JuZXJzKG5vZGVDb29yZCk7XG5cbiAgICBjb25zdCB2YWxpZENvcm5lcnMgPSB2YWxpZGF0ZUNvb3Jkcyhjb3JuZXJzKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsaWRDb3JuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2aXN1YWxJbmRpY2F0b3JzKHZhbGlkQ29ybmVyc1tpXSwgZmFsc2UsIHRhcmdldCk7XG4gICAgICByZW1vdmVOb2RlTGlzdGVuZXJzKHZhbGlkQ29ybmVyc1tpXSwgdGFyZ2V0KTtcbiAgICAgIGF0dGFja0Z1bmN0aW9uKHZhbGlkQ29ybmVyc1tpXSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IFBsYXllciA9IChuYW1lLCBzaGlwc0Nvb3JkcykgPT4ge1xuICAgIGNvbnN0IHBsYXllck5hbWUgPSBuYW1lO1xuXG4gICAgY29uc3QgcGxheWVyQ29vcmRzID0gc2hpcHNDb29yZHM7XG5cbiAgICBjb25zdCBwbGF5ZXJCb2FyZCA9IG1haW5PYmplY3RzLkdhbWVib2FyZCgpO1xuXG4gICAgY29uc3QgcGxheWVyU2hpcHMgPSBwbGF5ZXJCb2FyZC5kZXBsb3lTaGlwcyguLi5zaGlwc0Nvb3Jkcyk7XG5cbiAgICBjb25zdCByZWNlaXZlQXR0YWNrID0gKGNvb3JkcykgPT4ge1xuICAgICAgY29uc3QgcmVjZWl2ZWRBdHRhY2sgPSBwbGF5ZXJCb2FyZC5yZWNlaXZlQXR0YWNrKGNvb3JkcywgcGxheWVyU2hpcHMpO1xuXG4gICAgICBpZiAocmVjZWl2ZWRBdHRhY2spIHtcbiAgICAgICAgLy8gaWYgcmVjZWl2ZWRBdHRhY2sgaXMgYSB0cnVlIHZhbHVlLCBpdCBtZWFucyB0aGF0IGl0IGNvbnRhaW5zIGEgc3Vua2VkIHNoaXAuXG4gICAgICAgIGdsb2JhbExvZ2ljLmluZGljYXRlU3VuayhyZWNlaXZlZEF0dGFjaywgMSk7XG4gICAgICAgIGF0dGFja0Fyb3VuZChcbiAgICAgICAgICByZWNlaXZlZEF0dGFjay5jdXJyZW50Q29vcmRzLFxuICAgICAgICAgIHBsYXllckJvYXJkLnJlY2VpdmVBdHRhY2ssXG4gICAgICAgICAgcGxheWVyU2hpcHMsXG4gICAgICAgICAgXCJwbGF5ZXJcIixcbiAgICAgICAgICBwbGF5ZXJCb2FyZC5zdWNjZXNzQXR0YWNrc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGxheWVyTmFtZSxcbiAgICAgIHBsYXllckNvb3JkcyxcbiAgICAgIHBsYXllckJvYXJkLFxuICAgICAgcGxheWVyU2hpcHMsXG4gICAgICByZWNlaXZlQXR0YWNrLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgY3B1UGxheWVyID0gKGh1bWFuUGxheWVyLCBzaGlwc0NvcmRzKSA9PiB7XG4gICAgY29uc3Qgcml2YWxQbGF5ZXIgPSBodW1hblBsYXllcjtcblxuICAgIGNvbnN0IGNwdUNvb3JkcyA9IHNoaXBzQ29yZHM7XG5cbiAgICBjb25zdCBjcHVCb2FyZCA9IG1haW5PYmplY3RzLkdhbWVib2FyZCgpO1xuXG4gICAgY29uc3QgY3B1U2hpcHMgPSBjcHVCb2FyZC5kZXBsb3lTaGlwcyguLi5zaGlwc0NvcmRzKTtcblxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoY29vcmRpbmF0ZXMpID0+IHtcbiAgICAgIGNvbnN0IHJlY2VpdmVkQXR0YWNrID0gY3B1Qm9hcmQucmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcywgY3B1U2hpcHMpO1xuXG4gICAgICBpZiAocmVjZWl2ZWRBdHRhY2spIHtcbiAgICAgICAgLy8gaWYgcmVjZWl2ZWRBdHRhY2sgaXMgYSB0cnVlIHZhbHVlLCBpdCBtZWFucyB0aGF0IGl0IGNvbnRhaW5zIGEgc3Vua2VkIHNoaXAuXG4gICAgICAgIGdsb2JhbExvZ2ljLmluZGljYXRlU3VuayhyZWNlaXZlZEF0dGFjaywgMik7XG4gICAgICAgIGF0dGFja0Fyb3VuZChcbiAgICAgICAgICByZWNlaXZlZEF0dGFjay5jdXJyZW50Q29vcmRzLFxuICAgICAgICAgIGNwdUJvYXJkLnJlY2VpdmVBdHRhY2ssXG4gICAgICAgICAgY3B1U2hpcHMsXG4gICAgICAgICAgXCJjcHVcIixcbiAgICAgICAgICBjcHVCb2FyZC5zdWNjZXNzQXR0YWNrc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1c2VkQ29vcmRzID0gW107XG5cbiAgICBjb25zdCBhdHRhY2tQbGF5ZXIgPSAoY29vcmRzLCBpZ25vcmVDb29yZHMpID0+IHtcbiAgICAgIGNvbnN0IHJhbmRvbUludCA9IChtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCk7XG5cbiAgICAgIGNvbnN0IHJhbmRvbUNvb3JkcyA9IFtyYW5kb21JbnQoMTApLCByYW5kb21JbnQoMTApXTtcblxuICAgICAgLy8gY2FsbCB0aGUgZnVuY3Rpb24gYWdhaW4gYW5kIGdlbmVyYXRlIG5ldyByYW5kb20gY29vcmRzIGlmIHRoZSBhdHRhY2sgaGFzIGFscmVhZHkgYmUgZG9uZSBpbiB0aGF0IGNvb3JkaW5hdGUuXG5cbiAgICAgIGlmIChcbiAgICAgICAgZ2xvYmFsTG9naWMuaXNUYXJnZXRJbkFycmF5KHVzZWRDb29yZHMsIHJhbmRvbUNvb3JkcykgJiZcbiAgICAgICAgaWdub3JlQ29vcmRzICE9PSB0cnVlXG4gICAgICApXG4gICAgICAgIHJldHVybiBhdHRhY2tQbGF5ZXIoKTtcblxuICAgICAgY29uc3QgYXR0YWNrTG9naWMgPSAoY29vcmRpbmF0ZXMpID0+IHtcbiAgICAgICAgcml2YWxQbGF5ZXIucmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcyk7XG4gICAgICAgIHVzZWRDb29yZHMucHVzaChjb29yZGluYXRlcyk7XG4gICAgICAgIGNvbnN0IHJpdmFsUGxheWVySGl0cyA9IHJpdmFsUGxheWVyLnBsYXllckJvYXJkLnN1Y2Nlc3NBdHRhY2tzO1xuXG4gICAgICAgIGlmIChnbG9iYWxMb2dpYy5pc1RhcmdldEluQXJyYXkocml2YWxQbGF5ZXJIaXRzLCBjb29yZGluYXRlcykpIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiBpdCB3YXMgYSBzdWNjZXNzZnVsIGF0dGFjayBvciBub3QuXG4gICAgICAgICAgdmlzdWFsSW5kaWNhdG9ycyhjb29yZGluYXRlcywgdHJ1ZSwgXCJwbGF5ZXJcIik7XG4gICAgICAgICAgYXR0YWNrQ29ybmVycyhjb29yZGluYXRlcywgYXR0YWNrUGxheWVyLCBcInBsYXllclwiKTtcbiAgICAgICAgICByZXR1cm4gY29vcmRpbmF0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpc3VhbEluZGljYXRvcnMoY29vcmRpbmF0ZXMsIGZhbHNlLCBcInBsYXllclwiKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChjb29yZHMpIHtcbiAgICAgICAgLy8gd2hlbiB0aGUgY29vcmRzIGFyZSBpbmRpY2F0ZWQgbWFudWFsbHkuXG4gICAgICAgIHJldHVybiBhdHRhY2tMb2dpYyhjb29yZHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dGFja0xvZ2ljKHJhbmRvbUNvb3Jkcyk7IC8vIHdoZW4gdGhlIGNvb3JkcyBhcmUgZ2VuZXJhdGVkIHJhbmRvbWx5LlxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXR0YWNrUGxheWVyLFxuICAgICAgY3B1Qm9hcmQsXG4gICAgICBjcHVTaGlwcyxcbiAgICAgIGNwdUNvb3JkcyxcbiAgICAgIHVzZWRDb29yZHMsXG4gICAgICByZWNlaXZlQXR0YWNrLFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBQbGF5ZXIsXG4gICAgY3B1UGxheWVyLFxuICAgIHZpc3VhbEluZGljYXRvcnMsXG4gICAgYXR0YWNrQ29ybmVycyxcbiAgICBhdHRhY2tBcm91bmQsXG4gICAgcmV0dXJuQ29ybmVycyxcbiAgICByZXR1cm5TaWRlcyxcbiAgICB2YWxpZGF0ZUNvb3JkcyxcbiAgfTtcbn0pKCk7XG5cbmNvbnN0IEdhbWUgPSAoKCkgPT4ge1xuICBjb25zdCBuZXdHYW1lID0gKHBsYXllck5hbWUsIHBsYXllckNvb3JkcywgY3B1Q29vcmRzKSA9PiB7XG4gICAgY29uc3QgUGxheWVyID0gcGxheWVyTG9naWMuUGxheWVyKHBsYXllck5hbWUsIHBsYXllckNvb3Jkcyk7XG5cbiAgICBjb25zdCBjcHVQbGF5ZXIgPSBwbGF5ZXJMb2dpYy5jcHVQbGF5ZXIoUGxheWVyLCBjcHVDb29yZHMpO1xuXG4gICAgcmV0dXJuIHsgUGxheWVyLCBjcHVQbGF5ZXIgfTtcbiAgfTtcblxuICByZXR1cm4geyBuZXdHYW1lIH07XG59KSgpO1xuXG5jb25zdCBET01Mb2dpYyA9ICgoKSA9PiB7XG4gIGNvbnN0IGRpc3BsYXlHcmlkID0gKGdyaWQxLCBncmlkMikgPT4ge1xuICAgIGNvbnN0IGNyZWF0ZUdyaWQgPSAoc2l6ZSkgPT4ge1xuICAgICAgY29uc3QgcmVjdXJzaXZlID0gKHlQb3MpID0+IHtcbiAgICAgICAgaWYgKHlQb3MgPT09IHNpemUpIHJldHVybjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGdyaWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBncmlkRWxlbWVudC5jbGFzc05hbWUgPSBgJHt5UG9zfSwke2l9YDtcblxuICAgICAgICAgIGNvbnN0IGdyaWRFbGVtZW50MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgZ3JpZEVsZW1lbnQyLmNsYXNzTmFtZSA9IGAke3lQb3N9LCR7aX1gO1xuXG4gICAgICAgICAgaWYgKGdyaWQxKSBncmlkMS5hcHBlbmRDaGlsZChncmlkRWxlbWVudCk7XG4gICAgICAgICAgaWYgKGdyaWQyKSBncmlkMi5hcHBlbmRDaGlsZChncmlkRWxlbWVudDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdXJzaXZlKHlQb3MgKyAxKTtcbiAgICAgIH07XG4gICAgICByZWN1cnNpdmUoMCk7XG4gICAgfTtcblxuICAgIGNyZWF0ZUdyaWQoMTApO1xuICB9O1xuXG4gIGNvbnN0IGdlbkluZGljYXRvcnMgPSAoeENvbnRhaW5lciwgeUNvbnRhaW5lcikgPT4ge1xuICAgIGNvbnN0IGdyaWRJbmRpY2F0b3JzWCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuICAgIGNvbnN0IGdyaWRJbmRpY2F0b3JzWSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXG4gICAgZ3JpZEluZGljYXRvcnNYLmNsYXNzTGlzdC5hZGQoXCJYXCIpO1xuICAgIGdyaWRJbmRpY2F0b3JzWS5jbGFzc0xpc3QuYWRkKFwiWVwiKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDk7IGkrKykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaTtcbiAgICAgIGdyaWRJbmRpY2F0b3JzWS5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgICAgY29uc3QgZWxlbWVudDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZWxlbWVudDIudGV4dENvbnRlbnQgPSBpO1xuICAgICAgZ3JpZEluZGljYXRvcnNYLmFwcGVuZENoaWxkKGVsZW1lbnQyKTtcbiAgICB9XG5cbiAgICB4Q29udGFpbmVyLmFwcGVuZENoaWxkKGdyaWRJbmRpY2F0b3JzWCk7XG4gICAgeUNvbnRhaW5lci5hcHBlbmRDaGlsZChncmlkSW5kaWNhdG9yc1kpO1xuICB9O1xuXG4gIGNvbnN0IFVJTG9naWMgPSAobm9kZXMsIGdhbWVJbmZvKSA9PiB7XG4gICAgY29uc3QgcGxheWVyMUNvb3JkcyA9IGdhbWVJbmZvLlBsYXllci5wbGF5ZXJTaGlwcy5jb29yZGluYXRlcztcblxuICAgIGNvbnN0IHBsYXllcjJDb29yZHMgPSBnYW1lSW5mby5jcHVQbGF5ZXIuY3B1U2hpcHMuY29vcmRpbmF0ZXM7XG5cbiAgICBjb25zdCBhdHRhY2tQbGF5ZXIgPSAoY29vcmQpID0+IGdhbWVJbmZvLlBsYXllci5yZWNlaXZlQXR0YWNrKGNvb3JkKTtcblxuICAgIGNvbnN0IGF0dGFja0NwdSA9IChjb29yZCkgPT4gZ2FtZUluZm8uY3B1UGxheWVyLnJlY2VpdmVBdHRhY2soY29vcmQpO1xuXG4gICAgY29uc3QgYXR0YWNrT25DbGljayA9IChzaGlwQ29vcmRzLCBub2RlQ29vcmQsIGF0dGFja0Z1bmN0aW9uKSA9PiB7XG4gICAgICAvLyBpZiB0aGUgcGxheWVyIGhhcyBhIHNoaXAgaW4gdGhlIGNsaWNrZWQgY29vcmRpbmF0ZSwgYXR0YWNrIHRoZSBwbGF5ZXIgdG8gdGhhdCBzcGVjaWZpYyBjb29yZC5cbiAgICAgIGxldCB3YXNTdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgICBpZiAoZ2xvYmFsTG9naWMuaXNUYXJnZXRJbkFycmF5KE9iamVjdC52YWx1ZXMoc2hpcENvb3JkcyksIG5vZGVDb29yZCkpIHtcbiAgICAgICAgLy8gd2hlbiB0aGUgbm9kZUNvb3JkIGlzIGluc2lkZSBvZiBhIG9uZS1jb29yZGluYXRlIHNoaXAsIHRoaXMgY29uZGl0aW9uYWwgaXMgdXNlZC5cbiAgICAgICAgYXR0YWNrRnVuY3Rpb24obm9kZUNvb3JkKTtcbiAgICAgICAgd2FzU3VjY2Vzc2Z1bCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gd2hlbiB0aGUgbm9kZUNvb3JkIGlzIGluc2lkZSBvZiBhIG11bHRpcGxlLWNvb3JkaW5hdGUgc2hpcC5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcENvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGNvb3JkcyBhcnJheSBvZiBlYWNoIHNoaXAsIHVudGlsIHRoZSBub2RlQ29vcmQgaXMgZm91bmQuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb29yZHMgPSBzaGlwQ29vcmRzW2ldO1xuICAgICAgICBpZiAoZ2xvYmFsTG9naWMuaXNUYXJnZXRJbkFycmF5KGN1cnJlbnRDb29yZHMsIG5vZGVDb29yZCkpIHtcbiAgICAgICAgICBhdHRhY2tGdW5jdGlvbihub2RlQ29vcmQpO1xuICAgICAgICAgIHdhc1N1Y2Nlc3NmdWwgPSB0cnVlO1xuXG4gICAgICAgICAgYnJlYWs7IC8vIHN0b3AgbG9vcGluZyB0aHJvdWdoIHRoZSBzaGlwcyBjb29yZHMgdG8gb3B0aW1pemUgdGltZSBjb21wbGV4aXR5LlxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gd2FzU3VjY2Vzc2Z1bDtcbiAgICB9O1xuXG4gICAgLy8gbm90ZSwgdGhlIGF0dGFja09uQ2xpY2sgZnVuY3Rpb24gd2lsbCBhbHdheXMgY2FsbCB0aGUgYXR0YWNrRnVuY3Rpb24gb24gYSBzdWNjZXNzZnVsIGF0dGFjay5cbiAgICAvLyB0aGF0J3Mgd2h5IHdlIHdpbGwgbmVlZCB0aGUgbmV4dCBmdW5jdGlvbi5cblxuICAgIGNvbnN0IG1pc3NlZEF0dGFja09uQ2xpY2sgPSAobm9kZUNvb3JkLCBhdHRhY2tGdW5jdGlvbikgPT4ge1xuICAgICAgYXR0YWNrRnVuY3Rpb24obm9kZUNvb3JkKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGV0ZWN0QXR0YWNrcyA9IChlKSA9PiB7XG4gICAgICBjb25zdCBwYXJlbnRDbGFzcyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lO1xuXG4gICAgICBjb25zdCBub2RlQ2xhc3MgPSBlLnRhcmdldC5jbGFzc05hbWU7XG5cbiAgICAgIGNvbnN0IG5vZGVDb29yZCA9IGdsb2JhbExvZ2ljLmNsYXNzVG9BcnJheShub2RlQ2xhc3MpO1xuXG4gICAgICBpZiAocGFyZW50Q2xhc3MgPT09IFwiZ3JpZC0xXCIpIHtcbiAgICAgICAgLy8gaWYgdGhlIGNsaWNrZWQgY29vcmRpbmF0ZSBpcyBpbnNpZGUgb2YgZ3JpZC0xLCB3ZSBrbm93IHRoYXQgaXQgaXMgYW4gYXR0YWNrIHRvIHBsYXllcjEuXG5cbiAgICAgICAgY29uc3QgY2xlYW5Db29yZHMgPSBPYmplY3QudmFsdWVzKHBsYXllcjFDb29yZHMpLmZpbHRlcihcbiAgICAgICAgICAoY29vcmRzKSA9PiBjb29yZHMgIT09IHVuZGVmaW5lZFxuICAgICAgICApOyAvLyBmaWx0ZXIgdW5kZWZpbmVkIGNvb3Jkcy5cblxuICAgICAgICBpZiAoYXR0YWNrT25DbGljayhjbGVhbkNvb3Jkcywgbm9kZUNvb3JkLCBhdHRhY2tQbGF5ZXIpID09PSB0cnVlKSB7XG4gICAgICAgICAgcGxheWVyTG9naWMudmlzdWFsSW5kaWNhdG9ycyhub2RlQ2xhc3MsIHRydWUsIFwicGxheWVyXCIpO1xuICAgICAgICAgIHBsYXllckxvZ2ljLmF0dGFja0Nvcm5lcnMobm9kZUNvb3JkLCBhdHRhY2tQbGF5ZXIsIFwicGxheWVyXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pc3NlZEF0dGFja09uQ2xpY2sobm9kZUNvb3JkLCBhdHRhY2tQbGF5ZXIpO1xuICAgICAgICAgIHBsYXllckxvZ2ljLnZpc3VhbEluZGljYXRvcnMobm9kZUNsYXNzLCBmYWxzZSwgXCJwbGF5ZXJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudENsYXNzID09PSBcImdyaWQtMlwiKSB7XG4gICAgICAgIGNvbnN0IGNsZWFuQ29vcmRzID0gT2JqZWN0LnZhbHVlcyhwbGF5ZXIyQ29vcmRzKS5maWx0ZXIoXG4gICAgICAgICAgKGNvb3JkcykgPT4gY29vcmRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoYXR0YWNrT25DbGljayhjbGVhbkNvb3Jkcywgbm9kZUNvb3JkLCBhdHRhY2tDcHUpID09PSB0cnVlKSB7XG4gICAgICAgICAgcGxheWVyTG9naWMudmlzdWFsSW5kaWNhdG9ycyhub2RlQ2xhc3MsIHRydWUsIFwiY3B1XCIpO1xuICAgICAgICAgIHBsYXllckxvZ2ljLmF0dGFja0Nvcm5lcnMobm9kZUNvb3JkLCBhdHRhY2tDcHUsIFwiY3B1XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pc3NlZEF0dGFja09uQ2xpY2sobm9kZUNvb3JkLCBhdHRhY2tDcHUpO1xuICAgICAgICAgIHBsYXllckxvZ2ljLnZpc3VhbEluZGljYXRvcnMobm9kZUNsYXNzLCBmYWxzZSwgXCJjcHVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5vZGVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZXRlY3RBdHRhY2tzLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0YXJ0R2FtZSA9IChcbiAgICBncmlkQ29udGFpbmVyMSxcbiAgICBncmlkQ29udGFpbmVyMixcbiAgICBwbGF5ZXJDb29yZHMsXG4gICAgY3B1Q29vcmRzXG4gICkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRHYW1lID0gR2FtZS5uZXdHYW1lKFwiZXhhbXBsZVwiLCBwbGF5ZXJDb29yZHMsIGNwdUNvb3Jkcyk7XG5cbiAgICBpZiAoZ3JpZENvbnRhaW5lcjEuY2xhc3NOYW1lICE9PSBcInNob3duLWdyaWRcIikge1xuICAgICAgVUlMb2dpYyhncmlkQ29udGFpbmVyMS5jaGlsZE5vZGVzLCBjdXJyZW50R2FtZSk7XG4gICAgfVxuXG4gICAgaWYgKGdyaWRDb250YWluZXIyLmNsYXNzTmFtZSAhPT0gXCJzaG93bi1ncmlkXCIpIHtcbiAgICAgIFVJTG9naWMoZ3JpZENvbnRhaW5lcjIuY2hpbGROb2RlcywgY3VycmVudEdhbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB7IGN1cnJlbnRHYW1lLCBncmlkQ29udGFpbmVyMSwgZ3JpZENvbnRhaW5lcjIgfTtcbiAgfTtcblxuICBjb25zdCBnZW5ET01FbGVtZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBmbGF0Q29vcmRzID0gKGNvb3Jkc0FycikgPT4ge1xuICAgICAgY29uc3Qgb25lRGltZW5zaW9uQ29vcmRzID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IGNvb3Jkc0FycltpXTtcblxuICAgICAgICBpZiAodHlwZW9mIGNvb3Jkc1swXSA9PT0gXCJvYmplY3RcIikgb25lRGltZW5zaW9uQ29vcmRzLnB1c2goLi4uY29vcmRzKTtcbiAgICAgICAgLy8gaWYgdGhlIHNoaXBzIGhhdmUgbW9yZSB0aGFuIG9uZSBjb29yZGluYXRlLlxuICAgICAgICBlbHNlIG9uZURpbWVuc2lvbkNvb3Jkcy5wdXNoKGNvb3Jkcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb25lRGltZW5zaW9uQ29vcmRzO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93U2hpcHMgPSAoY3VycmVudENvb3JkcywgZ3JpZE51bWJlcikgPT4ge1xuICAgICAgY29uc3QgY29vcmRzID0gZmxhdENvb3JkcyhjdXJyZW50Q29vcmRzKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ2xvYmFsTG9naWMuY2hhbmdlQ29vcmRDb2xvcihcbiAgICAgICAgICBnbG9iYWxMb2dpYy5jb29yZFRvQ2xhc3MoY29vcmRzW2ldKSxcbiAgICAgICAgICBncmlkTnVtYmVyLFxuICAgICAgICAgIFwiZ3JlZW5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVFbGVtZW50cyA9IChpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbWFpbkNvbnRhaW5lciA9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluLWNvbnRhaW5lclwiKVtpbmRleF07XG4gICAgICBpZiAobWFpbkNvbnRhaW5lcikgbWFpbkNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlU2hvd25HcmlkID0gKGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzaG93bkdyaWQgPVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2hvd24tZ3JpZFwiKVtpbmRleF07XG4gICAgICBpZiAoc2hvd25HcmlkKSBzaG93bkdyaWQucmVtb3ZlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlbkdyaWRPbmx5ID0gKHBsYXllckluZGV4LCBjb250YWluZXIsIGNvb3JkcykgPT4ge1xuICAgICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBncmlkLmNsYXNzTmFtZSA9IGBncmlkLSR7cGxheWVySW5kZXh9YDtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChncmlkKTtcblxuICAgICAgaWYgKHBsYXllckluZGV4ID09PSAxKSBET01Mb2dpYy5kaXNwbGF5R3JpZChncmlkLCBudWxsKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBET01Mb2dpYy5kaXNwbGF5R3JpZChudWxsLCBncmlkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvb3Jkcykge1xuICAgICAgICBncmlkLmNsYXNzTmFtZSA9IGBzaG93bi1ncmlkYDtcbiAgICAgICAgc2hvd1NoaXBzKGNvb3JkcywgcGxheWVySW5kZXgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ3JpZFxuICAgIH1cblxuICAgIGNvbnN0IGdlbkdyaWQgPSAocGxheWVySW5kZXgsIGNvb3JkcykgPT4ge1xuICAgICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuICAgICAgbWFpbkNvbnRhaW5lci5jbGFzc05hbWUgPSBcIm1haW4tY29udGFpbmVyXCI7XG5cbiAgICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKTtcbiAgICAgIGlmIChtYWluKSBtYWluLmFwcGVuZENoaWxkKG1haW5Db250YWluZXIpO1xuXG4gICAgICBjb25zdCBncmlkc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBncmlkc0NvbnRhaW5lci5jbGFzc05hbWUgPSBcImdyaWRzLWNvbnRhaW5lclwiO1xuXG4gICAgICBpZiAobWFpbkNvbnRhaW5lcikgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChncmlkc0NvbnRhaW5lcik7XG5cbiAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICBuYW1lLnRleHRDb250ZW50ID0gYFBsYXllcidzICR7cGxheWVySW5kZXh9IEdyaWRgO1xuICAgICAgZ3JpZHNDb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZSk7XG5cbiAgICAgIGNvbnN0IGdyaWRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGdyaWRXcmFwcGVyLmNsYXNzTmFtZSA9IFwiZ3JpZC13cmFwcGVyXCI7XG5cbiAgICAgIGdlbkluZGljYXRvcnMoZ3JpZHNDb250YWluZXIsIGdyaWRXcmFwcGVyKTsgLy8gZ2VuIGluZGljYXRvcnMgaGVyZSB0byBwdXQgXCJYXCIgY29udGFpbmVyIGFib3ZlIHRoZSBncmlkLlxuXG4gICAgICBncmlkc0NvbnRhaW5lci5hcHBlbmRDaGlsZChncmlkV3JhcHBlcik7XG5cbiAgICAgIGNvbnN0IGdyaWQgPSBnZW5HcmlkT25seShwbGF5ZXJJbmRleCwgZ3JpZFdyYXBwZXIsIGNvb3JkcylcblxuICAgICAgcmV0dXJuIGdyaWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlblN0YXJ0QnV0dG9uID0gKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgc3RhcnRCdXR0b24uY2xhc3NOYW1lID0gXCJzdGFydC1idXR0b25cIjtcbiAgICAgIHN0YXJ0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTdGFydCBHYW1lXCI7XG4gICAgICBjb25zdCBidXR0b25Db250YWluZXIgPVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYnV0dG9uLXdyYXBwZXJcIilbMF07XG4gICAgICBpZiAoYnV0dG9uQ29udGFpbmVyKSBidXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoc3RhcnRCdXR0b24pO1xuICAgIH07XG5cbiAgICBjb25zdCBnZW5Db29yZElucHV0cyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1haW5Db250YWluZXIgPVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFpbi1jb250YWluZXJcIilbMF07XG5cbiAgICAgIGNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICBpbnB1dFRpdGxlLmNsYXNzTGlzdC5hZGQoYGlucHV0cy1jb250YWluZXJgKTtcbiAgICAgIGlucHV0VGl0bGUuaHRtbEZvciA9IFwic2VsZWN0LXNoaXBzXCI7XG4gICAgICBpbnB1dFRpdGxlLnRleHRDb250ZW50ID0gXCJTZXQgSW5pdGlhbCBDb29yZFwiO1xuICAgICAgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dFRpdGxlKTtcblxuICAgICAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICBzZWxlY3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoYHNlbGVjdC1zaGlwc2ApO1xuICAgICAgaW5wdXRUaXRsZS5hcHBlbmRDaGlsZChzZWxlY3RFbGVtZW50KTtcblxuICAgICAgY29uc3QgaW5wdXRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGlucHV0V3JhcHBlci5jbGFzc0xpc3QuYWRkKGBpbnB1dC13cmFwcGVyYCk7XG4gICAgICBpbnB1dFRpdGxlLmFwcGVuZENoaWxkKGlucHV0V3JhcHBlcik7XG5cbiAgICAgIGNvbnN0IGlucHV0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGlucHV0MS5jbGFzc0xpc3QuYWRkKGBjb29yZHMtaW5wdXRgKTtcbiAgICAgIGlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dDEpO1xuXG4gICAgICBjb25zdCBpbnB1dFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIGlucHV0VGV4dC5jbGFzc0xpc3QuYWRkKGBpbnB1dC10ZXh0YCk7XG4gICAgICBpbnB1dFRleHQudGV4dENvbnRlbnQgPSBcIixcIjtcbiAgICAgIGlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dFRleHQpO1xuXG4gICAgICBjb25zdCBpbnB1dDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBpbnB1dDIuY2xhc3NMaXN0LmFkZChgY29vcmRzLWlucHV0YCk7XG4gICAgICBpbnB1dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXQyKTtcblxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGBhcHBseS1jb29yZHNgKTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQXBwbHlcIjtcbiAgICAgIGlucHV0VGl0bGUuYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKTtcblxuICAgICAgY29uc3Qgb3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb24xLnZhbHVlID0gXCJjYXJyaWVyXCI7XG4gICAgICBvcHRpb24xLnRleHRDb250ZW50ID0gXCJDYXJyaWVyXCI7XG4gICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbjEpO1xuXG4gICAgICBjb25zdCBvcHRpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIG9wdGlvbjIudmFsdWUgPSBcImJhdHRsZXNoaXAxXCI7XG4gICAgICBvcHRpb24yLnRleHRDb250ZW50ID0gXCJCYXR0bGVzaGlwIDFcIjtcbiAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uMik7XG5cbiAgICAgIGNvbnN0IG9wdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgb3B0aW9uMy52YWx1ZSA9IFwiYmF0dGxlc2hpcDJcIjtcbiAgICAgIG9wdGlvbjMudGV4dENvbnRlbnQgPSBcIkJhdHRsZXNoaXAgMlwiO1xuICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb24zKTtcblxuICAgICAgY29uc3Qgb3B0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb240LnZhbHVlID0gXCJjcnVpc2VyMVwiO1xuICAgICAgb3B0aW9uNC50ZXh0Q29udGVudCA9IFwiQ3J1aXNlciAxXCI7XG4gICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbjQpO1xuXG4gICAgICBjb25zdCBvcHRpb241ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIG9wdGlvbjUudmFsdWUgPSBcImNydWlzZXIyXCI7XG4gICAgICBvcHRpb241LnRleHRDb250ZW50ID0gXCJDcnVpc2VyIDJcIjtcbiAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uNSk7XG5cbiAgICAgIGNvbnN0IG9wdGlvbjYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgb3B0aW9uNi52YWx1ZSA9IFwiY3J1aXNlcjNcIjtcbiAgICAgIG9wdGlvbjYudGV4dENvbnRlbnQgPSBcIkNydWlzZXIgM1wiO1xuICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb242KTtcblxuICAgICAgY29uc3Qgb3B0aW9uNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb243LnZhbHVlID0gXCJkZXN0cm95ZXIxXCI7XG4gICAgICBvcHRpb243LnRleHRDb250ZW50ID0gXCJEZXN0cm95ZXIgMVwiO1xuICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb243KTtcblxuICAgICAgY29uc3Qgb3B0aW9uOCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb244LnZhbHVlID0gXCJkZXN0cm95ZXIyXCI7XG4gICAgICBvcHRpb244LnRleHRDb250ZW50ID0gXCJEZXN0cm95ZXIgMlwiO1xuICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb244KTtcblxuICAgICAgY29uc3Qgb3B0aW9uOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb245LnZhbHVlID0gXCJkZXN0cm95ZXIzXCI7XG4gICAgICBvcHRpb245LnRleHRDb250ZW50ID0gXCJEZXN0cm95ZXIgM1wiO1xuICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb245KTtcblxuICAgICAgY29uc3Qgb3B0aW9uMTAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgb3B0aW9uMTAudmFsdWUgPSBcImRlc3Ryb3llcjRcIjtcbiAgICAgIG9wdGlvbjEwLnRleHRDb250ZW50ID0gXCJEZXN0cm95ZXIgNFwiO1xuICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb24xMCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlbkJ1dHRvbldyYXBwZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBidXR0b25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGJ1dHRvbldyYXBwZXIuY2xhc3NMaXN0LmFkZChcImJ1dHRvbi13cmFwcGVyXCIpO1xuXG4gICAgICBjb25zdCBncmlkc0NvbnRhaW5lciA9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmlkcy1jb250YWluZXJcIilbMF07XG5cbiAgICAgIGlmIChncmlkc0NvbnRhaW5lcikgZ3JpZHNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uV3JhcHBlcik7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlblJhbmRvbWl6ZUJ1dHRvbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJhbmRvbUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICByYW5kb21CdXR0b24uY2xhc3NOYW1lID0gXCJyYW5kb20tYnV0dG9uXCI7XG4gICAgICByYW5kb21CdXR0b24udGV4dENvbnRlbnQgPSBcIlJhbmRvbWl6ZVwiO1xuICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJ1dHRvbi13cmFwcGVyXCIpWzBdO1xuICAgICAgaWYgKGJ1dHRvbkNvbnRhaW5lcikgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHJhbmRvbUJ1dHRvbik7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlbkN1c3RvbWl6ZUJ1dHRvbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbWl6ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBjdXN0b21pemVCdXR0b24uY2xhc3NOYW1lID0gXCJjdXN0b21pemUtYnV0dG9uXCI7XG4gICAgICBjdXN0b21pemVCdXR0b24udGV4dENvbnRlbnQgPSBcIkN1c3RvbWl6ZVwiO1xuICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJ1dHRvbi13cmFwcGVyXCIpWzBdO1xuICAgICAgaWYgKGJ1dHRvbkNvbnRhaW5lcikgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGN1c3RvbWl6ZUJ1dHRvbik7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlbkJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICBnZW5CdXR0b25XcmFwcGVyKCk7XG4gICAgICBnZW5SYW5kb21pemVCdXR0b24oKTtcbiAgICAgIGdlblN0YXJ0QnV0dG9uKCk7XG4gICAgICBnZW5DdXN0b21pemVCdXR0b24oKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHsgZ2VuR3JpZCwgZGVsZXRlRWxlbWVudHMsIGdlbkJ1dHRvbnMsIGdlbkNvb3JkSW5wdXRzLCBnZW5HcmlkT25seSwgZGVsZXRlU2hvd25HcmlkIH07XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlTW9kYWwgPSAod2lubmVyLCBjcHVXaW4pID0+IHtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaWFsb2dcIik7XG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsXCIpO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuXG4gICAgY29uc3QgbW9kYWxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtb2RhbC5hcHBlbmRDaGlsZChtb2RhbFRleHQpO1xuXG4gICAgaWYgKCFjcHVXaW4pIG1vZGFsVGV4dC50ZXh0Q29udGVudCA9IGBDb25ncmF0dWxhdGlvbnMgJHt3aW5uZXJ9LCB5b3Ugd29uIWA7XG4gICAgZWxzZSB7XG4gICAgICBtb2RhbFRleHQudGV4dENvbnRlbnQgPSBgJHt3aW5uZXJ9IHdvbiwgdHJ5IGFnYWluIWA7XG4gICAgfVxuXG4gICAgY29uc3QgcmVsb2FkR2FtZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcmVsb2FkR2FtZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiTmV3IEdhbWVcIjtcblxuICAgIGNvbnN0IHJlbG9hZFBhZ2UgPSAoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cbiAgICByZWxvYWRHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZWxvYWRQYWdlKTtcbiAgICBtb2RhbC5hcHBlbmRDaGlsZChyZWxvYWRHYW1lQnV0dG9uKTtcblxuICAgIGlmIChtb2RhbCkgbW9kYWwuc2hvd01vZGFsKCk7XG4gIH07XG5cbiAgY29uc3QgZW5kR2FtZSA9ICgpID0+IHtcbiAgICBjb25zdCBwbGF5ZXIxR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmlkLTFcIilbMF07XG5cbiAgICBjb25zdCBwbGF5ZXIyR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmlkLTJcIilbMF07XG5cbiAgICAvLyBjbG9uZWQgZWxlbWVudHMgZG8gbm90IGNhcnJ5IGV2ZW50IGxpc3RlbmVycy5cblxuICAgIGlmIChwbGF5ZXIxR3JpZCkgcGxheWVyMUdyaWQucmVwbGFjZVdpdGgocGxheWVyMUdyaWQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgIGlmIChwbGF5ZXIyR3JpZCkgcGxheWVyMkdyaWQucmVwbGFjZVdpdGgocGxheWVyMkdyaWQuY2xvbmVOb2RlKHRydWUpKTtcbiAgfTtcblxuICBjb25zdCBmbGF0Q29vcmRzID0gKGVsZW1lbnRzKSA9PiB7XG4gICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBtdWx0aXBsZUNvb3JkU2hpcHMgPSBlbGVtZW50cy5maWx0ZXIoXG4gICAgICAgIChlbCkgPT4gdHlwZW9mIGVsWzBdID09PSBcIm9iamVjdFwiXG4gICAgICApO1xuXG4gICAgICBjb25zdCBvbmVDb29yZFNoaXBzID0gZWxlbWVudHMuZmlsdGVyKChlbCkgPT4gdHlwZW9mIGVsWzBdID09PSBcIm51bWJlclwiKTtcblxuICAgICAgY29uc3QgZmxhdHRlZENvb3JkcyA9IG11bHRpcGxlQ29vcmRTaGlwcy5mbGF0KCkuY29uY2F0KG9uZUNvb3JkU2hpcHMpO1xuXG4gICAgICByZXR1cm4gZmxhdHRlZENvb3JkcztcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3Vycm91bmRDb29yZHMgPSAobm9kZUNvb3JkKSA9PiB7XG4gICAgY29uc3QgZ2V0U3VycnVvbmRzID0gKG5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTdXJyb3VuZHMgPSBbXG4gICAgICAgIC4uLnBsYXllckxvZ2ljLnJldHVybkNvcm5lcnMobm9kZSksXG4gICAgICAgIC4uLnBsYXllckxvZ2ljLnJldHVyblNpZGVzKG5vZGUpLFxuICAgICAgICBub2RlLFxuICAgICAgXTtcblxuICAgICAgcmV0dXJuIHBsYXllckxvZ2ljLnZhbGlkYXRlQ29vcmRzKGN1cnJlbnRTdXJyb3VuZHMpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb29yZHMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygbm9kZUNvb3JkWzBdICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAvLyBvbmUtY29vcmQgc2hpcFxuICAgICAgY29uc3Qgc3Vycm91bmQgPSBnZXRTdXJydW9uZHMobm9kZUNvb3JkKTtcbiAgICAgIGNvb3Jkcy5wdXNoKC4uLnN1cnJvdW5kKTtcblxuICAgICAgY29uc3Qgbm9SZXBlYXRTdHJpbmcgPSBuZXcgU2V0KGNvb3Jkcy5tYXAoKHgpID0+IEpTT04uc3RyaW5naWZ5KHgpKSk7XG5cbiAgICAgIGNvbnN0IG5vUmVwZWF0Q29vcmRzID0gWy4uLm5vUmVwZWF0U3RyaW5nXS5tYXAoKHgpID0+IEpTT04ucGFyc2UoeCkpO1xuICAgICAgcmV0dXJuIG5vUmVwZWF0Q29vcmRzO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZUNvb3JkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q29vcmQgPSBub2RlQ29vcmRbaV07XG4gICAgICBjb25zdCBzdXJyb3VuZCA9IGdldFN1cnJ1b25kcyhjdXJyZW50Q29vcmQpO1xuXG4gICAgICBjb29yZHMucHVzaCguLi5zdXJyb3VuZCk7XG4gICAgfVxuICAgIGNvbnN0IG5vUmVwZWF0U3RyaW5nID0gbmV3IFNldChjb29yZHMubWFwKCh4KSA9PiBKU09OLnN0cmluZ2lmeSh4KSkpO1xuXG4gICAgY29uc3Qgbm9SZXBlYXRDb29yZHMgPSBbLi4ubm9SZXBlYXRTdHJpbmddLm1hcCgoeCkgPT4gSlNPTi5wYXJzZSh4KSk7XG5cbiAgICByZXR1cm4gbm9SZXBlYXRDb29yZHM7XG4gIH07XG5cbiAgY29uc3QgZ2VuQ29vcmRzID0gKCkgPT4ge1xuICAgIGNvbnN0IHJhbmRvbUludCA9IChtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCk7XG5cbiAgICBjb25zdCByYW5kb21PcmllbnRhdGlvbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG51bWJlciA9IHJhbmRvbUludCgyKTtcblxuICAgICAgaWYgKG51bWJlciA9PT0gMCkgcmV0dXJuIFwiaFwiO1xuICAgICAgcmV0dXJuIFwidlwiO1xuICAgIH07XG5cbiAgICBjb25zdCBnZW5SYW5kb21Db29yZHMgPSAob3JpZW50YXRpb24sIHNpemUsIHByZXZpb3VzQ29vcmRzKSA9PiB7XG4gICAgICBpZiAocHJldmlvdXNDb29yZHMpIHtcbiAgICAgICAgY29uc3QgdmVydGljYWxDb29yZHMgPSBbcHJldmlvdXNDb29yZHNbMF0gKyAxLCBwcmV2aW91c0Nvb3Jkc1sxXV07XG4gICAgICAgIGNvbnN0IGhvcml6b250YWxDb29yZHMgPSBbcHJldmlvdXNDb29yZHNbMF0sIHByZXZpb3VzQ29vcmRzWzFdICsgMV07XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcInZcIikgcmV0dXJuIHZlcnRpY2FsQ29vcmRzO1xuXG4gICAgICAgIHJldHVybiBob3Jpem9udGFsQ29vcmRzO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmFuZG9tQ29vcmRzO1xuXG4gICAgICAvLyBzdWJzdHJhY3QgdGhlIHNpemUgZGVwZW5kaW5nIG9uIHRoZSBvcmllbnRhdGlvbiwgaW4gb3JkZXIgdG8gaGF2ZSBzcGFjZSBmb3IgdGhlIG5leHQgY29vcmRzIG9mIHRoZSBzaGlwLlxuICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcInZcIilcbiAgICAgICAgcmFuZG9tQ29vcmRzID0gW3JhbmRvbUludCgxMCAtIHNpemUpLCByYW5kb21JbnQoMTApXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICByYW5kb21Db29yZHMgPSBbcmFuZG9tSW50KDEwKSwgcmFuZG9tSW50KDEwIC0gc2l6ZSldO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2l6ZSA9PT0gMSkgcmFuZG9tQ29vcmRzID0gW3JhbmRvbUludCgxMCksIHJhbmRvbUludCgxMCldO1xuXG4gICAgICByZXR1cm4gcmFuZG9tQ29vcmRzO1xuICAgIH07XG5cbiAgICBjb25zdCBnZW5TaGlwQ29vcmQgPSAoc2l6ZSwgdXNlZENvb3JkcykgPT4ge1xuICAgICAgY29uc3Qgc2hpcENvb3JkcyA9IFtdO1xuXG4gICAgICBjb25zdCBvcmllbnRhdGlvbiA9IHJhbmRvbU9yaWVudGF0aW9uKCk7XG5cbiAgICAgIGNvbnN0IGludmFsaWRDb29yZHMgPSBmbGF0Q29vcmRzKHVzZWRDb29yZHMpO1xuXG4gICAgICBjb25zdCBnZW5Jbml0aWFsQ29vcmRzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjb29yZHMgPSBnZW5SYW5kb21Db29yZHMob3JpZW50YXRpb24sIHNpemUpO1xuXG4gICAgICAgIGlmICghZ2xvYmFsTG9naWMuaXNUYXJnZXRJbkFycmF5KGludmFsaWRDb29yZHMsIGNvb3JkcykpIHtcbiAgICAgICAgICAvLyB2YWxpZGF0ZSB0aGF0IHRoZSBpbml0aWFsIGNvb3JkIGlzIGluIGEgdmFsaWQgcG9zaXRpb25cbiAgICAgICAgICBzaGlwQ29vcmRzLnB1c2goY29vcmRzKTtcbiAgICAgICAgfSBlbHNlIGdlbkluaXRpYWxDb29yZHMoKTsgLy8gaWYgdGhlIGdlbmVyYXRlZCBjb29yZHMgYXJlIGFscmVhZHkgdXNlZCwgZ2VuZXJhdGUgbmV3IGNvb3Jkcy5cbiAgICAgIH07XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzQ29vcmRzID0gc2hpcENvb3Jkc1tzaGlwQ29vcmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBjb29yZHMgPSBnZW5SYW5kb21Db29yZHMob3JpZW50YXRpb24sIHNpemUsIHByZXZpb3VzQ29vcmRzKTtcblxuICAgICAgICBpZiAocHJldmlvdXNDb29yZHMpIHtcbiAgICAgICAgICBzaGlwQ29vcmRzLnB1c2goY29vcmRzKTtcbiAgICAgICAgfSBlbHNlIGdlbkluaXRpYWxDb29yZHMoKTtcbiAgICAgIH1cblxuICAgICAgLy8gbXVsdGlwbGUgY29vcmRpbmF0ZSBzaGlwXG4gICAgICBpZiAoc2hpcENvb3Jkcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzaGlwQ29vcmRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzaGlwQ29vcmRzW2luZGV4XTtcbiAgICAgICAgICBpZiAoZ2xvYmFsTG9naWMuaXNUYXJnZXRJbkFycmF5KGludmFsaWRDb29yZHMsIGVsZW1lbnQpKVxuICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlOyAvLyBpZiBvbmUgZWxlbWVudCBvZiB0aGUgc2hpcCBoYXMgYSBpbnZhbGlkIHBvc2l0aW9uLCBpc1ZhbGlkIGlzIGZhbHNlLlxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzVmFsaWQgPT09IGZhbHNlKSByZXR1cm4gZ2VuU2hpcENvb3JkKHNpemUsIGludmFsaWRDb29yZHMpOyAvLyBhbmQgd2hlbiBpc1ZhbGlkIGlzIGZhbHNlLCB3ZSByZWN1cnNpdmVseSBjaGFuZ2UgdGhlIHNoaXAgcG9zaXRpb24sIHVudGlsIGl0IGlzIHZhbGlkLlxuXG4gICAgICAgIHJldHVybiBzaGlwQ29vcmRzO1xuICAgICAgfVxuXG4gICAgICAvLyBvbmUgY29vcmRpbmF0ZSBzaGlwLlxuICAgICAgcmV0dXJuIHNoaXBDb29yZHNbMF07XG4gICAgfTtcblxuICAgIGNvbnN0IGdlbkJhdHRsZXNoaXBzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdXNlZENvb3JkcyA9IFtdO1xuXG4gICAgICBjb25zdCBjYXJyaWVyID0gZ2VuU2hpcENvb3JkKDQsIHVzZWRDb29yZHMpO1xuICAgICAgdXNlZENvb3Jkcy5wdXNoKHN1cnJvdW5kQ29vcmRzKGNhcnJpZXIpKTtcblxuICAgICAgY29uc3QgYmF0dGxlU2hpcCA9IGdlblNoaXBDb29yZCgzLCB1c2VkQ29vcmRzKTtcbiAgICAgIHVzZWRDb29yZHMucHVzaChzdXJyb3VuZENvb3JkcyhiYXR0bGVTaGlwKSk7XG5cbiAgICAgIGNvbnN0IGJhdHRsZVNoaXAxID0gZ2VuU2hpcENvb3JkKDMsIHVzZWRDb29yZHMpO1xuICAgICAgdXNlZENvb3Jkcy5wdXNoKHN1cnJvdW5kQ29vcmRzKGJhdHRsZVNoaXAxKSk7XG5cbiAgICAgIGNvbnN0IGNydWlzZXIgPSBnZW5TaGlwQ29vcmQoMiwgdXNlZENvb3Jkcyk7XG4gICAgICB1c2VkQ29vcmRzLnB1c2goc3Vycm91bmRDb29yZHMoY3J1aXNlcikpO1xuXG4gICAgICBjb25zdCBjcnVpc2VyMSA9IGdlblNoaXBDb29yZCgyLCB1c2VkQ29vcmRzKTtcbiAgICAgIHVzZWRDb29yZHMucHVzaChzdXJyb3VuZENvb3JkcyhjcnVpc2VyMSkpO1xuXG4gICAgICBjb25zdCBjcnVpc2VyMiA9IGdlblNoaXBDb29yZCgyLCB1c2VkQ29vcmRzKTtcbiAgICAgIHVzZWRDb29yZHMucHVzaChzdXJyb3VuZENvb3JkcyhjcnVpc2VyMikpO1xuXG4gICAgICBjb25zdCBkZXN0cm95ZXIgPSBnZW5TaGlwQ29vcmQoMSwgdXNlZENvb3Jkcyk7XG4gICAgICB1c2VkQ29vcmRzLnB1c2goc3Vycm91bmRDb29yZHMoZGVzdHJveWVyKSk7XG5cbiAgICAgIGNvbnN0IGRlc3Ryb3llcjEgPSBnZW5TaGlwQ29vcmQoMSwgdXNlZENvb3Jkcyk7XG4gICAgICB1c2VkQ29vcmRzLnB1c2goc3Vycm91bmRDb29yZHMoZGVzdHJveWVyMSkpO1xuXG4gICAgICBjb25zdCBkZXN0cm95ZXIyID0gZ2VuU2hpcENvb3JkKDEsIHVzZWRDb29yZHMpO1xuICAgICAgdXNlZENvb3Jkcy5wdXNoKHN1cnJvdW5kQ29vcmRzKGRlc3Ryb3llcjIpKTtcblxuICAgICAgY29uc3QgZGVzdHJveWVyMyA9IGdlblNoaXBDb29yZCgxLCB1c2VkQ29vcmRzKTtcbiAgICAgIHVzZWRDb29yZHMucHVzaChzdXJyb3VuZENvb3JkcyhkZXN0cm95ZXIzKSk7XG5cbiAgICAgIGNvbnN0IGNvb3JkcyA9IFtcbiAgICAgICAgY2FycmllcixcbiAgICAgICAgYmF0dGxlU2hpcCxcbiAgICAgICAgYmF0dGxlU2hpcDEsXG4gICAgICAgIGNydWlzZXIsXG4gICAgICAgIGNydWlzZXIxLFxuICAgICAgICBjcnVpc2VyMixcbiAgICAgICAgZGVzdHJveWVyLFxuICAgICAgICBkZXN0cm95ZXIxLFxuICAgICAgICBkZXN0cm95ZXIyLFxuICAgICAgICBkZXN0cm95ZXIzLFxuICAgICAgXTtcblxuICAgICAgcmV0dXJuIHsgY29vcmRzLCB1c2VkQ29vcmRzIH07XG4gICAgfTtcblxuICAgIHJldHVybiB7IGdlbkJhdHRsZXNoaXBzLCBnZW5TaGlwQ29vcmQsIHN1cnJvdW5kQ29vcmRzIH07XG4gIH07XG5cbiAgY29uc3Qgcm90YXRlQ29vcmRzID0gKHNoaXAsIHN3YXBPcmllbnRhdGlvbikgPT4ge1xuICAgIGNvbnN0IGNoZWNrT3JpZW50YXRpb24gPSAoKSA9PiB7XG4gICAgICBpZiAoc3dhcE9yaWVudGF0aW9uKSB7XG4gICAgICAgIGlmIChzaGlwLmNvb3Jkc1swXVswXSArIDEgPT09IHNoaXAuY29vcmRzWzFdWzBdKSByZXR1cm4gXCJoXCI7XG4gICAgICAgIHJldHVybiBcInZcIjtcbiAgICAgIH1cbiAgICAgIGlmIChzaGlwLmNvb3Jkc1swXVswXSArIDEgPT09IHNoaXAuY29vcmRzWzFdWzBdKSByZXR1cm4gXCJ2XCI7XG4gICAgICByZXR1cm4gXCJoXCI7XG4gICAgfTtcblxuICAgIGxldCBuZXdBcnJheSA9IFtzaGlwLmZpcnN0Q29vcmRdO1xuXG4gICAgbGV0IHlQb3M7XG4gICAgbGV0IHhQb3M7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuY29vcmRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgaWYgKGNoZWNrT3JpZW50YXRpb24oKSA9PT0gXCJ2XCIpIHtcbiAgICAgICAgeVBvcyA9IG5ld0FycmF5W2ldWzBdO1xuICAgICAgICB4UG9zID0gbmV3QXJyYXlbaV1bMV0gKyAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHlQb3MgPSBuZXdBcnJheVtpXVswXSArIDE7XG4gICAgICAgIHhQb3MgPSBuZXdBcnJheVtpXVsxXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld0Nvb3JkID0gW3lQb3MsIHhQb3NdO1xuXG4gICAgICBuZXdBcnJheSA9IG5ld0FycmF5LmNvbmNhdChbbmV3Q29vcmRdKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycmF5O1xuXG4gIH07XG5cbiAgY29uc3QgcmVwbGFjZUNvb3JkcyA9IChzaGlwSW5mbywgY29vcmRzKSA9PiB7XG4gICAgY29uc3QgY29vcmRzQ29weSA9IFsuLi5jb29yZHNdO1xuXG4gICAgY29vcmRzQ29weS5zcGxpY2Uoc2hpcEluZm8uY29vcmRzUG9zaXRpb24sIDEsIHNoaXBJbmZvLmNvb3Jkcyk7IC8vIHJlcGxhY2UgdGhlIG9sZCBjb29yZHMgZm9yIHRoZSByb3RhdGVkIGNvb3Jkcy5cblxuICAgIHJldHVybiBjb29yZHNDb3B5O1xuICB9O1xuXG4gIGNvbnN0IHRyaWdnZXJJbnZhbGlkUlQgPSAoY29vcmRzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNsYXNzQ29vcmQgPSBnbG9iYWxMb2dpYy5jb29yZFRvQ2xhc3MoY29vcmRzW2ldKTtcbiAgICAgIGNvbnN0IGNvb3JkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NDb29yZClbMF07XG4gICAgICBjb29yZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImludmFsaWQtcm90YXRpb25cIik7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBrbm93IGV4YWN0bHkgd2hlbiB0aGUgYW5pbWF0aW9uIHdpbGwgZW5kLCB3ZSBjYW4gc2V0IGEgdGltZW91dC5cbiAgICAgICAgY29vcmRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZhbGlkLXJvdGF0aW9uXCIpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlUm90YXRpb24gPSAoc2hpcEluZm8sIHVzZWRDb29yZHMpID0+IHtcblxuICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcblxuICAgIGNvbnN0IG9jY3VwaWVkQ29vcmRzID0gc2hpcEluZm8uY29vcmRzO1xuXG4gICAgY29uc3QgeyBjb29yZHNQb3NpdGlvbiB9ID0gc2hpcEluZm87XG5cbiAgICBjb25zdCB1c2VkQ29vcmRzQ29weSA9IFsuLi51c2VkQ29vcmRzXTtcblxuICAgIHVzZWRDb29yZHNDb3B5W2Nvb3Jkc1Bvc2l0aW9uXSA9IFtdOyAvLyB3ZSBjbGVhciB0aGUgdXNlZENvb3JkcyBvZiB0aGUgY3VycmVudCBzaGlwLCBzbyB3ZSBjYW4gdmFsaWRhdGUgd2l0aG91dCB0aGVtIGluIHRoZSBsb29wLlxuXG4gICAgY29uc3QgZmxhdFVzZWRDb29yZHMgPSBmbGF0Q29vcmRzKHVzZWRDb29yZHNDb3B5KTtcblxuICAgIGlmIChcbiAgICAgIHBsYXllckxvZ2ljLnZhbGlkYXRlQ29vcmRzKG9jY3VwaWVkQ29vcmRzKS5sZW5ndGggIT09XG4gICAgICBvY2N1cGllZENvb3Jkcy5sZW5ndGhcbiAgICApXG4gICAgICByZXR1cm4gdXNlZENvb3JkczsgLy8gY2hlY2sgaWYgdGhlc2UgY29vcmRzIGFyZW4ndCBvdXQgb2YgdGhlIGdyaWQuXG5cbiAgICBpZiAodHlwZW9mIChvY2N1cGllZENvb3Jkc1swXSkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGlmIChnbG9iYWxMb2dpYy5pc1RhcmdldEluQXJyYXkoZmxhdFVzZWRDb29yZHMsIG9jY3VwaWVkQ29vcmRzKSlcbiAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9jY3VwaWVkQ29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChnbG9iYWxMb2dpYy5pc1RhcmdldEluQXJyYXkoZmxhdFVzZWRDb29yZHMsIG9jY3VwaWVkQ29vcmRzW2ldKSkge1xuICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgY29uc3QgY29vcmRzU3Vycm91bmQgPSBzdXJyb3VuZENvb3JkcyhvY2N1cGllZENvb3Jkcyk7XG5cbiAgICBpZiAoaXNWYWxpZCA9PT0gdHJ1ZSkge1xuICAgICAgdXNlZENvb3Jkc0NvcHlbY29vcmRzUG9zaXRpb25dID0gY29vcmRzU3Vycm91bmQ7XG4gICAgICByZXR1cm4gdXNlZENvb3Jkc0NvcHk7XG4gICAgfVxuICAgIHJldHVybiB1c2VkQ29vcmRzO1xuICB9O1xuXG4gIGNvbnN0IGdldFNoaXBDb29yZHMgPSAoY29vcmQsIHNoaXBzQ29vcmRzKSA9PiB7XG4gICAgLy8gdGhpcyBmdW5jdGlvbiBzZWFyY2hlcyBmb3IgdGhlIGFyZ3VtZW50IGNvb3JkaW5hdGUgaW5zaWRlIG9mIHRoZSBmdWxsIGNvb3JkcyBhcnJheSwgYWxsIG9mIHRoaXMsIGluIG9yZGVyIHRvIHJldHVybiB0aGUgZnVsbCBjb29yZHMgb2YgdGhlIGNsaWNrZWQgY29vcmQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwc0Nvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY29vcmRzQXJyID0gc2hpcHNDb29yZHNbaV07XG4gICAgICBjb25zdCBjb29yZHNJbmZvID0gW2Nvb3Jkc0FyciwgaV07XG4gICAgICBpZiAoZ2xvYmFsTG9naWMuaXNUYXJnZXRJbkFycmF5KGNvb3Jkc0FyciwgY29vcmQpKSByZXR1cm4gY29vcmRzSW5mbztcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgcm90YXRlU2hpcHMgPSAoY29vcmRzLCB1c2VkQ29vcmRzLCBpbmRleCwgcmVzdGFydEdyaWQsIGN1cnJlbnRET00pID0+IHtcbiAgICBjb25zdCBjbGVhbkNvb3JkcyA9IGNvb3Jkcy5maWx0ZXIoKGVsKSA9PiB0eXBlb2YgZWxbMF0gPT09IFwib2JqZWN0XCIpOyAvLyB3ZSBmaWx0ZXIgdGhlIG9uZS1jb29yZGluYXRlIHNoaXBzLCBiZWNhdXNlIHRoZXkgZG9uJ3QgbmVlZCByb3RhdGlvblxuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gZmxhdENvb3JkcyhjbGVhbkNvb3Jkcyk7XG5cbiAgICBjb25zdCByb3RhdGUgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgY2xpY2tlZENvb3JkID0gZS50YXJnZXQuY2xhc3NOYW1lO1xuXG4gICAgICBjb25zdCBmdWxsQXJyYXkgPSBnZXRTaGlwQ29vcmRzKGdsb2JhbExvZ2ljLmNsYXNzVG9BcnJheShjbGlja2VkQ29vcmQpLCBjbGVhbkNvb3Jkcyk7XG5cbiAgICAgIGNvbnN0IHNoaXBJbmZvID0ge1xuICAgICAgICBjb29yZHM6IGZ1bGxBcnJheVswXSxcbiAgICAgICAgZmlyc3RDb29yZDogZnVsbEFycmF5WzBdWzBdLFxuICAgICAgICBjb29yZHNQb3NpdGlvbjogZnVsbEFycmF5WzFdLFxuICAgICAgfTtcblxuICAgICAgc2hpcEluZm8uY29vcmRzID0gcm90YXRlQ29vcmRzKHNoaXBJbmZvKTtcblxuICAgICAgaWYgKHZhbGlkYXRlUm90YXRpb24oc2hpcEluZm8sIHVzZWRDb29yZHMpICE9PSB1c2VkQ29vcmRzKSB7IC8vIHRoaXMgbWVhbnMgdGhhdCB0aGUgdXNlZCBjb29yZHMgd2VyZSBjaGFuZ2VkLCBzbyBpdCB3YXMgYSB2YWxpZCByb3RhdGlvbi5cblxuICAgICAgICBjb25zdCBjdXN0b21pemVTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlucHV0cy1jb250YWluZXJcIilbMF0gLy8gaWYgY3VzdG9taXplIHNlY3Rpb24gaXMgdHJ1ZSwgc2VuZCBpdCB0byByZXN0YXJ0R3JpZCB0byBrZWVwIGl0IG9wZW4uXG4gICAgICAgIGN1cnJlbnRET00uZGVsZXRlRWxlbWVudHMoMCk7IC8vIGRlbGV0ZSBvbGQgZ3JpZFxuXG4gICAgICAgIHJldHVybiByZXN0YXJ0R3JpZChcbiAgICAgICAgICByZXBsYWNlQ29vcmRzKHNoaXBJbmZvLCBjb29yZHMpLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIHZhbGlkYXRlUm90YXRpb24oc2hpcEluZm8sIHVzZWRDb29yZHMpLFxuICAgICAgICAgIGN1c3RvbWl6ZVNlY3Rpb25cbiAgICAgICAgKTsgLy8gZ2VuIG5ldyBncmlkIHdpdGggdGhlIHJvdGF0ZWQgY29vcmQuXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJpZ2dlckludmFsaWRSVChmdWxsQXJyYXlbMF0pO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBzZWxlY3QgZXZlcnkgc2hpcC1vY2N1cGllZCBjb29yZFxuICAgICAgY29uc3QgZWxlbWVudENsYXNzID0gZ2xvYmFsTG9naWMuY29vcmRUb0NsYXNzKGNvb3JkaW5hdGVzW2ldKTtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGVsZW1lbnRDbGFzcylbaW5kZXhdO1xuICAgICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJvdGF0ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gIGNvbnN0IGRyYWdBbmREcm9wID0gKGVsZW1lbnRzKSA9PiB7XG4gICAgY29uc3QgY29vcmRMaXN0ID0gZmxhdENvb3JkcyhlbGVtZW50cyk7XG5cbiAgICBjb25zdCBkcmFnU3RhcnQgPSAoZSkgPT4ge307XG5cbiAgICBjb25zdCBkcmFnRHJvcCA9IChlKSA9PiB7fTtcblxuICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lcnMgdG8gZWFjaCBlbGVtZW50LlxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gZ2xvYmFsTG9naWMuY29vcmRUb0NsYXNzKGNvb3JkTGlzdFtpXSk7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlbGVtZW50TmFtZSlbMF07XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIGRyYWdTdGFydCk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgZHJhZ0Ryb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgKi9cblxuICBjb25zdCByYW5kb21pemVHcmlkID0gKGluZGV4LCBnZW5Jbml0aWFsRWxlbWVudHMsIGN1cnJlbnRET00pID0+IHtcbiAgICBjdXJyZW50RE9NLmRlbGV0ZUVsZW1lbnRzKGluZGV4KTtcbiAgICBjb25zdCBnZW5SYW5kb21Db29yZHMgPSBET01Mb2dpYy5nZW5Db29yZHMoKS5nZW5CYXR0bGVzaGlwcygpO1xuICAgIGNvbnN0IG5ld1JhbmRvbUNvb3JkcyA9IGdlblJhbmRvbUNvb3Jkcy5jb29yZHM7XG4gICAgY29uc3QgbmV3VXNlZENvb3JkcyA9IGdlblJhbmRvbUNvb3Jkcy51c2VkQ29vcmRzO1xuICAgIGdlbkluaXRpYWxFbGVtZW50cyhuZXdSYW5kb21Db29yZHMsIGZhbHNlLCBuZXdVc2VkQ29vcmRzKTtcbiAgfTtcblxuICBjb25zdCBjaGFuZ2VTaGlwQ29sb3IgPSAoY3VycmVudFNoaXAsIGNvbG9yKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRDb29yZDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRTaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIChjdXJyZW50U2hpcFtpXSkgPT09IFwibnVtYmVyXCIpIC8vIG9uZS1jb29yZGluYXRlIHNoaXAuXG4gICAgICAgIGN1cnJlbnRDb29yZCA9IGdsb2JhbExvZ2ljLmNvb3JkVG9DbGFzcyhjdXJyZW50U2hpcCk7XG4gICAgICBlbHNlXG4gICAgICAgIGN1cnJlbnRDb29yZCA9IGdsb2JhbExvZ2ljLmNvb3JkVG9DbGFzcyhjdXJyZW50U2hpcFtpXSk7XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjdXJyZW50Q29vcmQpWzBdXG4gICAgICBjdXJyZW50RWxlbWVudC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hhbmdlRXZlcnlTaGlwQ29sb3IgPSAoc2hpcHNDb29yZHMsIGNvbG9yKSA9PiB7XG5cbiAgICBjb25zdCBjdXJyZW50U2hpcHMgPSBzaGlwc0Nvb3Jkc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U2hpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTaGlwID0gY3VycmVudFNoaXBzW2ldO1xuICAgICAgY2hhbmdlU2hpcENvbG9yKGN1cnJlbnRTaGlwLCBjb2xvcilcbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IGdldFNlbGVjdFNoaXBJbmRleCA9ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzZWxlY3Qtc2hpcHNcIilbMF0uc2VsZWN0ZWRJbmRleFxuXG4gIGNvbnN0IGhpZ2hsaWdodEN1cnJlbnRTaGlwID0gKHNoaXBJbmRleCwgc2hpcHNDb29yZHMpID0+IHtcblxuICAgIGNvbnN0IGN1cnJlbnRTaGlwID0gc2hpcHNDb29yZHNbc2hpcEluZGV4XVxuXG4gICAgY2hhbmdlRXZlcnlTaGlwQ29sb3Ioc2hpcHNDb29yZHMsIFwiZ3JlZW5cIikgLy8gcmVzdGFydCBwcmV2aW91c2x5IGhpZ2hsaWdodGVkIHNoaXBzLlxuICAgIGNoYW5nZVNoaXBDb2xvcihjdXJyZW50U2hpcCwgXCJyZ2IoMzcsIDIxNCwgMTk5KVwiKVxuXG4gICAgcmV0dXJuIGN1cnJlbnRTaGlwXG5cbiAgfVxuXG4gIGNvbnN0IHRyaWdnZXJDdXJyZW50Q29vcmQgPSAoeFBvcywgeVBvcywgY29vcmRzLCBjdXJyZW50RE9NKSA9PiB7XG5cbiAgICBjb25zdCBjb29yZENsYXNzID0gW051bWJlcih4UG9zKSwgTnVtYmVyKHlQb3MpXVxuICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZ3JpZC13cmFwcGVyXCIpWzBdXG5cbiAgICBjdXJyZW50RE9NLmRlbGV0ZVNob3duR3JpZCgwKVxuICAgIGN1cnJlbnRET00uZ2VuR3JpZE9ubHkoMSwgZ3JpZENvbnRhaW5lciwgY29vcmRzKVxuICAgIGNvbnNvbGUubG9nKGdldFNlbGVjdFNoaXBJbmRleCgpKVxuICAgIGhpZ2hsaWdodEN1cnJlbnRTaGlwKGdldFNlbGVjdFNoaXBJbmRleCgpLCBjb29yZHMpXG5cbiAgICBjaGFuZ2VTaGlwQ29sb3IoY29vcmRDbGFzcywgXCJvcmFuZ2VcIilcblxuICAgIHJldHVybiBjb29yZENsYXNzXG5cbiAgfVxuXG4gIGNvbnN0IGNoYW5nZUluaXRpYWxDb29yZCA9IChzaGlwSW5kZXgsIGNvb3JkLCBzaGlwc0Nvb3JkcywgdXNlZENvb3JkcywgcmVzdGFydEdyaWQsIGN1cnJlbnRET00pID0+IHtcblxuICAgIGNvbnN0IHNoaXBJbmZvID0ge1xuICAgICAgY29vcmRzOiBzaGlwc0Nvb3Jkc1tzaGlwSW5kZXhdLFxuICAgICAgZmlyc3RDb29yZDogY29vcmQsXG4gICAgICBjb29yZHNQb3NpdGlvbjogc2hpcEluZGV4LFxuICAgIH07XG5cbiAgICBjb25zdCBnZW5lcmF0ZUNvb3JkcyA9IHJvdGF0ZUNvb3JkcyhzaGlwSW5mbywgdHJ1ZSkgLy8gZ2VuZXJhdGUgdGhlIGNvb3Jkcywgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgZGlmZmVyZW50IGluaXRpYWxDb29yZC5cblxuICAgIC8vIHVwZGF0ZSBzaGlwSW5mbyB3aXRoIHRoZSBuZXcgc2hpcCBjb29yZHMuXG5cbiAgICBjb25zdCB1cGRhdGVkU2hpcEluZm8gPSB7XG4gICAgICBjb29yZHM6IGdlbmVyYXRlQ29vcmRzLFxuICAgICAgZmlyc3RDb29yZDogZ2VuZXJhdGVDb29yZHNbMF0sXG4gICAgICBjb29yZHNQb3NpdGlvbjogc2hpcEluZGV4LFxuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZUdyaWQgPSAoc2hpcE9iaiwgdXNlZENvb3Jkc0FyciwgY29vcmRzQXJyLCB1c2VkRE9NKSA9PiB7XG5cbiAgICAgIGlmICh2YWxpZGF0ZVJvdGF0aW9uKHNoaXBPYmosIHVzZWRDb29yZHNBcnIpICE9PSB1c2VkQ29vcmRzQXJyKSB7XG4gICAgICAgIHVzZWRET00uZGVsZXRlRWxlbWVudHMoMCk7IC8vIGRlbGV0ZSBvbGQgZ3JpZFxuICAgICAgICByZXR1cm4gcmVzdGFydEdyaWQoLy8gZ2VuIG5ldyBncmlkIHdpdGggdGhlIGNoYW5nZWQgY29vcmQuXG4gICAgICAgICAgcmVwbGFjZUNvb3JkcyhzaGlwT2JqLCBjb29yZHNBcnIpLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIHZhbGlkYXRlUm90YXRpb24oc2hpcE9iaiwgdXNlZENvb3Jkc0FyciksXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgKHNoaXBzQ29vcmRzW3NoaXBJbmRleF1bMF0pID09PSBcIm51bWJlclwiKSB7IC8vIHdoZW4gaXQgaXMgYSBvbmUtY29vcmRpbmF0ZSBzaGlwLlxuICAgICAgc2hpcEluZm8uY29vcmRzID0gc2hpcEluZm8uZmlyc3RDb29yZCAvLyBjaGFuZ2UgdGhlIGNvb3JkIHRvIGJlIGVxdWFsIHRvIHRoZSB3YW50ZWQgY29vcmQuXG4gICAgICB1cGRhdGVHcmlkKHNoaXBJbmZvLCB1c2VkQ29vcmRzLCBzaGlwc0Nvb3JkcywgY3VycmVudERPTSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB1cGRhdGVHcmlkKHVwZGF0ZWRTaGlwSW5mbywgdXNlZENvb3Jkcywgc2hpcHNDb29yZHMsIGN1cnJlbnRET00pXG4gICAgfVxuICAgIHJldHVybiB7IHVwZGF0ZUdyaWQgfVxuICB9XG5cbiAgY29uc3QgY3VzdG9taXplU2V0dXAgPSAoY29vcmRzLCB1c2VkQ29vcmRzLCBnZW5Jbml0aWFsRWxlbWVudHMsIGN1cnJlbnRET00pID0+IHtcblxuICAgIGNvbnN0IGNoYW5nZUNvb3JkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImFwcGx5LWNvb3Jkc1wiKVswXVxuICAgIGlmIChjaGFuZ2VDb29yZEJ1dHRvbilcbiAgICAgIGNoYW5nZUNvb3JkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbENvb3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvb3Jkcy1pbnB1dFwiKVxuICAgICAgICBjb25zdCBmdWxsQ29vcmQgPSBbTnVtYmVyKGluaXRpYWxDb29yZFswXS52YWx1ZSksIE51bWJlcihpbml0aWFsQ29vcmRbMV0udmFsdWUpXVxuICAgICAgICBjaGFuZ2VJbml0aWFsQ29vcmQoZ2V0U2VsZWN0U2hpcEluZGV4KCksIGZ1bGxDb29yZCwgY29vcmRzLCB1c2VkQ29vcmRzLCBnZW5Jbml0aWFsRWxlbWVudHMsIGN1cnJlbnRET00pXG4gICAgICB9KVxuXG4gICAgY29uc3Qgc2VsZWN0U2hpcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2VsZWN0LXNoaXBzXCIpWzBdXG4gICAgY2hhbmdlU2hpcENvbG9yKGNvb3Jkc1swXSwgXCJyZ2IoMzcsIDIxNCwgMTk5KVwiKSAvLyBoaWdobGlnaHQgZGVmYXVsdCBzZWxlY3RlZCBzaGlwLlxuICAgIGlmIChzZWxlY3RTaGlwcylcbiAgICAgIHNlbGVjdFNoaXBzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTaGlwSW5kZXggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2VsZWN0LXNoaXBzXCIpWzBdLnNlbGVjdGVkSW5kZXhcbiAgICAgICAgaGlnaGxpZ2h0Q3VycmVudFNoaXAoY3VycmVudFNoaXBJbmRleCwgY29vcmRzKVxuICAgICAgfSlcblxuICAgIGNvbnN0IGNvb3JkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29vcmRzLWlucHV0XCIpWzBdXG4gICAgY29uc3QgY29vcmRJbnB1dDEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29vcmRzLWlucHV0XCIpWzFdXG5cblxuICAgIGNvb3JkSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGlmIChjb29yZElucHV0LnZhbHVlICYmIGNvb3JkSW5wdXQxLnZhbHVlKVxuICAgICAgICB0cmlnZ2VyQ3VycmVudENvb3JkKGNvb3JkSW5wdXQudmFsdWUsIGNvb3JkSW5wdXQxLnZhbHVlLCBjb29yZHMsIGN1cnJlbnRET00pXG4gICAgfSlcbiAgICBjb29yZElucHV0MS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgaWYgKGNvb3JkSW5wdXQudmFsdWUgJiYgY29vcmRJbnB1dDEudmFsdWUpXG4gICAgICAgIHRyaWdnZXJDdXJyZW50Q29vcmQoY29vcmRJbnB1dC52YWx1ZSwgY29vcmRJbnB1dDEudmFsdWUsIGNvb3JkcywgY3VycmVudERPTSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3Qgc2V0dXBFdmVudExpc3RlbmVycyA9IChjb29yZHMsIHNhbWVDb29yZHMsIHVzZWRDb29yZHMsIGN1cnJlbnRET00sIGN1c3RvbWl6ZU9wZW4sIGdlbkluaXRpYWxFbGVtZW50cywgZ2FtZU1vZGUpID0+IHtcblxuICAgIGNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN0YXJ0LWJ1dHRvblwiKVswXTtcbiAgICBjb25zdCByYW5kb21pemVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicmFuZG9tLWJ1dHRvblwiKVswXTtcbiAgICBjb25zdCBjdXN0b21pemVCdXR0b24gPVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImN1c3RvbWl6ZS1idXR0b25cIilbMF07XG5cbiAgICBpZiAocmFuZG9taXplQnV0dG9uKVxuICAgICAgcmFuZG9taXplQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHJhbmRvbWl6ZUdyaWQoMCwgZ2VuSW5pdGlhbEVsZW1lbnRzLCBjdXJyZW50RE9NKTtcbiAgICAgIH0pO1xuXG4gICAgaWYgKGN1c3RvbWl6ZUJ1dHRvbikge1xuICAgICAgY3VzdG9taXplQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGN1cnJlbnRET00uZ2VuQ29vcmRJbnB1dHMoKTtcbiAgICAgICAgICBjdXN0b21pemVTZXR1cChjb29yZHMsIHVzZWRDb29yZHMsIGdlbkluaXRpYWxFbGVtZW50cywgY3VycmVudERPTSlcbiAgICAgICAgfSxcbiAgICAgICAgeyBvbmNlOiB0cnVlIH1cbiAgICAgICk7XG4gICAgICBpZiAoY3VzdG9taXplT3BlbikgY3VzdG9taXplQnV0dG9uLmNsaWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0QnV0dG9uKVxuICAgICAgc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgZ2FtZU1vZGUoY29vcmRzLCBzYW1lQ29vcmRzLCBjdXJyZW50RE9NKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnRHYW1lLFxuICAgIGRpc3BsYXlHcmlkLFxuICAgIGdlbkRPTUVsZW1lbnRzLFxuICAgIGVuZEdhbWUsXG4gICAgY3JlYXRlTW9kYWwsXG4gICAgZ2VuQ29vcmRzLFxuICAgIHJvdGF0ZVNoaXBzLFxuICAgIHJvdGF0ZUNvb3JkcyxcbiAgICBjaGFuZ2VJbml0aWFsQ29vcmQsXG4gICAgc2V0dXBFdmVudExpc3RlbmVyc1xuICB9O1xufSkoKTtcblxuY29uc3QgR2FtZUxvb3AgPSAoKCkgPT4ge1xuXG4gIGNvbnN0IGdhbWVUdXJucyA9IChwbGF5ZXIxLCBwbGF5ZXIyKSA9PiB7XG4gICAgY29uc3QgcGxheWVyMVNoaXBzID0gcGxheWVyMS5wbGF5ZXJTaGlwcztcblxuICAgIGNvbnN0IHBsYXllcjJTaGlwcyA9IHBsYXllcjIuY3B1U2hpcHM7XG5cbiAgICBjb25zdCB0dXJuc0xvZ2ljID0gKCkgPT4ge1xuICAgICAgbGV0IGlzR2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgIHBsYXllcjIuYXR0YWNrUGxheWVyKCk7XG5cbiAgICAgIGlmIChwbGF5ZXIxLnBsYXllckJvYXJkLmNoZWNrU3VuayhwbGF5ZXIxU2hpcHMpKSB7XG4gICAgICAgIERPTUxvZ2ljLmVuZEdhbWUoKTtcbiAgICAgICAgRE9NTG9naWMuY3JlYXRlTW9kYWwoXCJQbGF5ZXIyXCIsIHRydWUpO1xuICAgICAgICBpc0dhbWVPdmVyID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBsYXllcjIuY3B1Qm9hcmQuY2hlY2tTdW5rKHBsYXllcjJTaGlwcykpIHtcbiAgICAgICAgRE9NTG9naWMuZW5kR2FtZSgpO1xuICAgICAgICBET01Mb2dpYy5jcmVhdGVNb2RhbChcIlBsYXllcjFcIik7XG4gICAgICAgIGlzR2FtZU92ZXIgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNHYW1lT3ZlcjtcbiAgICB9O1xuXG4gICAgLy8gcmVjZWl2ZSBjb29yZHMsIGdyaWQgY29udGFpbmVycyBhbmQgc3RhcnQgdGhlIGdhbWUuXG5cbiAgICBjb25zdCB0dXJuTG9vcCA9ICh0b0F0dGFja0dyaWQpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9BdHRhY2tHcmlkLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRvQXR0YWNrR3JpZC5jaGlsZE5vZGVzW2ldO1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIHR1cm5zTG9naWMoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7IHR1cm5Mb29wIH07XG4gIH07XG5cbiAgY29uc3Qgc2luZ2xlUGxheWVyID0gKGNvb3Jkcywgc2FtZUNvb3JkcywgY3VycmVudERPTSkgPT4ge1xuICAgIGxldCBuZXdHYW1lO1xuXG4gICAgaWYgKGN1cnJlbnRET00pIHtcbiAgICAgIGN1cnJlbnRET00uZGVsZXRlRWxlbWVudHMoMCk7IC8vIGNsZWFyIHByZXZpb3VzIGVsZW1lbnRzXG5cbiAgICAgIGlmIChzYW1lQ29vcmRzICE9PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGNwdUNvb3JkcyA9IERPTUxvZ2ljLmdlbkNvb3JkcygpLmdlbkJhdHRsZXNoaXBzKCkuY29vcmRzOyAvLyBnZW4gcmFuZG9tIGNvb3Jkcy5cbiAgICAgICAgaWYgKGN1cnJlbnRET00pXG4gICAgICAgICAgbmV3R2FtZSA9IERPTUxvZ2ljLnN0YXJ0R2FtZShcbiAgICAgICAgICAgIGN1cnJlbnRET00uZ2VuR3JpZCgxLCBjb29yZHMpLFxuICAgICAgICAgICAgY3VycmVudERPTS5nZW5HcmlkKDIpLFxuICAgICAgICAgICAgY29vcmRzLFxuICAgICAgICAgICAgY3B1Q29vcmRzXG4gICAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0dhbWUgPSBET01Mb2dpYy5zdGFydEdhbWUoXG4gICAgICAgICAgY3VycmVudERPTS5nZW5HcmlkKDEsIGNvb3JkcyksXG4gICAgICAgICAgY3VycmVudERPTS5nZW5HcmlkKDIpLFxuICAgICAgICAgIGNvb3JkcyxcbiAgICAgICAgICBjb29yZHNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGxheWVyT2JqID0gbmV3R2FtZS5jdXJyZW50R2FtZS5QbGF5ZXI7XG4gICAgICBjb25zdCBjcHVPYmogPSBuZXdHYW1lLmN1cnJlbnRHYW1lLmNwdVBsYXllcjtcbiAgICAgIGNvbnN0IGN1cnJlbnRUdXJuID0gZ2FtZVR1cm5zKHBsYXllck9iaiwgY3B1T2JqLCAwKTtcbiAgICAgIGNvbnN0IGNwdUdyaWQgPSBuZXdHYW1lLmdyaWRDb250YWluZXIyO1xuXG4gICAgICAvLyB0cmlnZ2VyIHR1cm5zIGxvZ2ljXG4gICAgICBnYW1lVHVybnMocGxheWVyT2JqLCBjcHVPYmopLnR1cm5Mb29wKGNwdUdyaWQpO1xuXG4gICAgICByZXR1cm4geyBwbGF5ZXJPYmosIGNwdU9iaiwgY3VycmVudFR1cm4gfTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2VuSW5pdGlhbEVsZW1lbnRzID0gKFxuICAgIGNvb3JkcyxcbiAgICBzYW1lQ29vcmRzLFxuICAgIHVzZWRDb29yZHMsXG4gICAgY3VzdG9taXplT3BlblxuICApID0+IHtcbiAgICBjb25zdCBjdXJyZW50RE9NID0gRE9NTG9naWMuZ2VuRE9NRWxlbWVudHMoKTtcblxuICAgIGN1cnJlbnRET00uZ2VuR3JpZCgxLCBjb29yZHMpO1xuICAgIGN1cnJlbnRET00uZ2VuQnV0dG9ucygpO1xuICAgIERPTUxvZ2ljLnJvdGF0ZVNoaXBzKGNvb3JkcywgdXNlZENvb3JkcywgMCwgZ2VuSW5pdGlhbEVsZW1lbnRzLCBjdXJyZW50RE9NKTtcbiAgICBET01Mb2dpYy5zZXR1cEV2ZW50TGlzdGVuZXJzKGNvb3Jkcywgc2FtZUNvb3JkcywgdXNlZENvb3JkcywgY3VycmVudERPTSwgY3VzdG9taXplT3BlbiwgZ2VuSW5pdGlhbEVsZW1lbnRzLCBzaW5nbGVQbGF5ZXIpXG4gICAgLy8gZHJhZ0FuZERyb3AoY29vcmRzKTtcblxuICAgIHJldHVybiB7IGN1cnJlbnRET00gfVxuICB9XG5cblxuICBjb25zdCBzZXR1cERPTSA9ICgpID0+IHtcbiAgICBjb25zdCBnZW5SYW5kb21Db29yZHMgPSBET01Mb2dpYy5nZW5Db29yZHMoKS5nZW5CYXR0bGVzaGlwcygpO1xuICAgIGNvbnN0IHJhbmRvbUNvb3JkcyA9IGdlblJhbmRvbUNvb3Jkcy5jb29yZHM7XG4gICAgY29uc3QgeyB1c2VkQ29vcmRzIH0gPSBnZW5SYW5kb21Db29yZHM7XG5cbiAgICBnZW5Jbml0aWFsRWxlbWVudHMocmFuZG9tQ29vcmRzLCBmYWxzZSwgdXNlZENvb3Jkcyk7XG5cbiAgICByZXR1cm4geyB1c2VkQ29vcmRzIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNpbmdsZVBsYXllcixcbiAgICBzZXR1cERPTSxcbiAgICBnZW5Jbml0aWFsRWxlbWVudHMsXG4gIH07XG59KSgpO1xuXG5HYW1lTG9vcC5zZXR1cERPTSgpO1xuXG5leHBvcnQgeyBtYWluT2JqZWN0cywgcGxheWVyTG9naWMsIEdhbWUsIERPTUxvZ2ljLCBHYW1lTG9vcCwgZ2xvYmFsTG9naWMgfTtcbiJdLCJuYW1lcyI6WyJnbG9iYWxMb2dpYyIsImNvb3JkVG9DbGFzcyIsImFyciIsInNsaWNlIiwiY2hhbmdlQ29vcmRDb2xvciIsImNsYXNzTmFtZSIsImdyaWROdW1iZXIiLCJjb2xvciIsImN1cnJlbnRDb29yZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInN0eWxlIiwiYm9yZGVyIiwiaXNUYXJnZXRJbkFycmF5IiwidGFyZ2V0IiwiY29udGFpbnMiLCJKU09OIiwic3RyaW5naWZ5IiwiaSIsImxlbmd0aCIsImVsZW1lbnQiLCJpbmRpY2F0ZVN1bmsiLCJzaGlwIiwiY3VycmVudENvb3JkcyIsImNsYXNzVG9BcnJheSIsImNsYXNzQ29vcmQiLCJhcnJheUNvb3JkIiwieCIsInkiLCJwdXNoIiwiTnVtYmVyIiwibWFpbk9iamVjdHMiLCJTaGlwIiwibGVuZ3RoTnVtYmVyIiwiaGl0c051bWJlciIsImNvb3JkcyIsInNoaXBIaXRzIiwic2hpcExlbmd0aCIsImlzU3VuayIsImhpdCIsImN1cnJlbnRIaXRzIiwiR2FtZWJvYXJkIiwicmVjZWl2ZWRBdHRhY2tzIiwic3VjY2Vzc0F0dGFja3MiLCJyZWNlaXZlQXR0YWNrIiwidGFyZ2V0Q29yZHMiLCJwbGF5ZXJTaGlwcyIsImN1cnJlbnRTaGlwcyIsIk9iamVjdCIsImVudHJpZXMiLCJjb29yZGluYXRlcyIsInN1Y2Nlc3MiLCJzaGlwQ29yZHMiLCJzaGlwTmFtZSIsImNhcnJpZXIiLCJiYXR0bGVTaGlwIiwiYmF0dGxlU2hpcDEiLCJjcnVpc2VyIiwiY3J1aXNlcjEiLCJjcnVpc2VyMiIsImRlc3Ryb3llciIsImRlc3Ryb3llcjEiLCJkZXN0cm95ZXIyIiwiZGVzdHJveWVyMyIsImRlcGxveVNoaXBzIiwiY2FycmllckNvcmRzIiwiYmF0dGxlU2hpcENvcmRzIiwiYmF0dGxlU2hpcDFDb3JkcyIsImNydWlzZXJDb3JkcyIsImNydWlzZXIxQ29yZHMiLCJjcnVpc2VyMkNvcmRzIiwiZGVzdHJveWVyQ29yZHMiLCJkZXN0cm95ZXIxQ29yZHMiLCJkZXN0cm95ZXIyQ29yZHMiLCJkZXN0cm95ZXIzQ29yZHMiLCJjaGVja1N1bmsiLCJzaGlwcyIsInBsYXllckxvZ2ljIiwidmlzdWFsSW5kaWNhdG9ycyIsImNvb3JkIiwid2FzU3VjY2Vzc2Z1bCIsImluZGV4IiwiY3VycmVudE5vZGUiLCJ0ZXh0Q29udGVudCIsInJlbW92ZU5vZGVMaXN0ZW5lcnMiLCJjb29yZGluYXRlIiwicmVwbGFjZVdpdGgiLCJjbG9uZU5vZGUiLCJ2YWxpZGF0ZUNvb3JkcyIsInZhbGlkYXRlZENvb3JkcyIsInJldHVyblNpZGVzIiwibm9kZUNvb3JkIiwidXAiLCJkb3duIiwicmlnaHQiLCJsZWZ0IiwiYXR0YWNrQXJvdW5kIiwibm9kZUNvb3JkcyIsImF0dGFja0Z1bmN0aW9uIiwiYXJvdW5kQ29vcmRzIiwiZmxhdEFyb3VuZENvb3JkcyIsImZsYXQiLCJyZXR1cm5Db3JuZXJzIiwibm9kZSIsImNvcm5lcnMiLCJjb3JuZXIxIiwiY29ybmVyMiIsImNvcm5lcjMiLCJjb3JuZXI0IiwiYXR0YWNrQ29ybmVycyIsInZhbGlkQ29ybmVycyIsIlBsYXllciIsIm5hbWUiLCJzaGlwc0Nvb3JkcyIsInBsYXllck5hbWUiLCJwbGF5ZXJDb29yZHMiLCJwbGF5ZXJCb2FyZCIsInJlY2VpdmVkQXR0YWNrIiwiY3B1UGxheWVyIiwiaHVtYW5QbGF5ZXIiLCJzaGlwc0NvcmRzIiwicml2YWxQbGF5ZXIiLCJjcHVDb29yZHMiLCJjcHVCb2FyZCIsImNwdVNoaXBzIiwidXNlZENvb3JkcyIsImF0dGFja1BsYXllciIsImlnbm9yZUNvb3JkcyIsInJhbmRvbUludCIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbUNvb3JkcyIsInJpdmFsUGxheWVySGl0cyIsImF0dGFja0xvZ2ljIiwiR2FtZSIsIkRPTUxvZ2ljIiwiVUlMb2dpYyIsIm5vZGVzIiwiZ2FtZUluZm8iLCJwbGF5ZXIxQ29vcmRzIiwicGxheWVyMkNvb3JkcyIsImF0dGFja0NwdSIsImF0dGFja09uQ2xpY2siLCJzaGlwQ29vcmRzIiwidmFsdWVzIiwibWlzc2VkQXR0YWNrT25DbGljayIsImRldGVjdEF0dGFja3MiLCJlIiwicGFyZW50Q2xhc3MiLCJwYXJlbnRFbGVtZW50Iiwibm9kZUNsYXNzIiwiY2xlYW5Db29yZHMiLCJmaWx0ZXIiLCJ1bmRlZmluZWQiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsImZsYXRDb29yZHMiLCJlbGVtZW50cyIsIm11bHRpcGxlQ29vcmRTaGlwcyIsImVsIiwib25lQ29vcmRTaGlwcyIsImNvbmNhdCIsInN1cnJvdW5kQ29vcmRzIiwiZ2V0U3VycnVvbmRzIiwiY3VycmVudFN1cnJvdW5kcyIsInN1cnJvdW5kIiwiU2V0IiwibWFwIiwicGFyc2UiLCJyb3RhdGVDb29yZHMiLCJzd2FwT3JpZW50YXRpb24iLCJ5UG9zIiwieFBvcyIsIm5ld0FycmF5IiwiZmlyc3RDb29yZCIsIm5ld0Nvb3JkIiwicmVwbGFjZUNvb3JkcyIsInNoaXBJbmZvIiwiY29vcmRzQ29weSIsInNwbGljZSIsImNvb3Jkc1Bvc2l0aW9uIiwidmFsaWRhdGVSb3RhdGlvbiIsImlzVmFsaWQiLCJvY2N1cGllZENvb3JkcyIsInVzZWRDb29yZHNDb3B5IiwiZmxhdFVzZWRDb29yZHMiLCJjb29yZHNTdXJyb3VuZCIsImNoYW5nZVNoaXBDb2xvciIsImN1cnJlbnRTaGlwIiwiYm9yZGVyQ29sb3IiLCJnZXRTZWxlY3RTaGlwSW5kZXgiLCJzZWxlY3RlZEluZGV4IiwiaGlnaGxpZ2h0Q3VycmVudFNoaXAiLCJzaGlwSW5kZXgiLCJjaGFuZ2VFdmVyeVNoaXBDb2xvciIsInRyaWdnZXJDdXJyZW50Q29vcmQiLCJjdXJyZW50RE9NIiwiY29vcmRDbGFzcyIsImdyaWRDb250YWluZXIiLCJkZWxldGVTaG93bkdyaWQiLCJnZW5HcmlkT25seSIsImNvbnNvbGUiLCJsb2ciLCJjaGFuZ2VJbml0aWFsQ29vcmQiLCJyZXN0YXJ0R3JpZCIsImdlbmVyYXRlQ29vcmRzIiwidXBkYXRlZFNoaXBJbmZvIiwidXBkYXRlR3JpZCIsInNoaXBPYmoiLCJ1c2VkQ29vcmRzQXJyIiwiY29vcmRzQXJyIiwidXNlZERPTSIsImRlbGV0ZUVsZW1lbnRzIiwic3RhcnRHYW1lIiwiZ3JpZENvbnRhaW5lcjEiLCJncmlkQ29udGFpbmVyMiIsImN1cnJlbnRHYW1lIiwiY2hpbGROb2RlcyIsImRpc3BsYXlHcmlkIiwiZ3JpZDEiLCJncmlkMiIsInNpemUiLCJyZWN1cnNpdmUiLCJncmlkRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJncmlkRWxlbWVudDIiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUdyaWQiLCJnZW5ET01FbGVtZW50cyIsInBsYXllckluZGV4IiwiY29udGFpbmVyIiwiZ3JpZCIsIm9uZURpbWVuc2lvbkNvb3JkcyIsInNob3dTaGlwcyIsImdlbkdyaWQiLCJtYWluQ29udGFpbmVyIiwibWFpbiIsInF1ZXJ5U2VsZWN0b3IiLCJncmlkc0NvbnRhaW5lciIsImdyaWRXcmFwcGVyIiwieENvbnRhaW5lciIsInlDb250YWluZXIiLCJncmlkSW5kaWNhdG9yc1giLCJncmlkSW5kaWNhdG9yc1kiLCJjbGFzc0xpc3QiLCJhZGQiLCJlbGVtZW50MiIsImdlbkluZGljYXRvcnMiLCJyZW1vdmUiLCJnZW5CdXR0b25zIiwiYnV0dG9uV3JhcHBlciIsImdlbkJ1dHRvbldyYXBwZXIiLCJyYW5kb21CdXR0b24iLCJidXR0b25Db250YWluZXIiLCJnZW5SYW5kb21pemVCdXR0b24iLCJzdGFydEJ1dHRvbiIsImdlblN0YXJ0QnV0dG9uIiwiY3VzdG9taXplQnV0dG9uIiwiZ2VuQ3VzdG9taXplQnV0dG9uIiwiZ2VuQ29vcmRJbnB1dHMiLCJpbnB1dFRpdGxlIiwiaHRtbEZvciIsInNlbGVjdEVsZW1lbnQiLCJpbnB1dFdyYXBwZXIiLCJpbnB1dDEiLCJpbnB1dFRleHQiLCJpbnB1dDIiLCJzdWJtaXRCdXR0b24iLCJvcHRpb24xIiwidmFsdWUiLCJvcHRpb24yIiwib3B0aW9uMyIsIm9wdGlvbjQiLCJvcHRpb241Iiwib3B0aW9uNiIsIm9wdGlvbjciLCJvcHRpb244Iiwib3B0aW9uOSIsIm9wdGlvbjEwIiwic2hvd25HcmlkIiwiZW5kR2FtZSIsInBsYXllcjFHcmlkIiwicGxheWVyMkdyaWQiLCJjcmVhdGVNb2RhbCIsIndpbm5lciIsImNwdVdpbiIsImJvZHkiLCJtb2RhbCIsIm1vZGFsVGV4dCIsInJlbG9hZEdhbWVCdXR0b24iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInNob3dNb2RhbCIsImdlbkNvb3JkcyIsImdlblJhbmRvbUNvb3JkcyIsIm9yaWVudGF0aW9uIiwicHJldmlvdXNDb29yZHMiLCJ2ZXJ0aWNhbENvb3JkcyIsImhvcml6b250YWxDb29yZHMiLCJnZW5TaGlwQ29vcmQiLCJpbnZhbGlkQ29vcmRzIiwiZ2VuSW5pdGlhbENvb3JkcyIsImdlbkJhdHRsZXNoaXBzIiwicm90YXRlU2hpcHMiLCJyb3RhdGUiLCJjbGlja2VkQ29vcmQiLCJmdWxsQXJyYXkiLCJjb29yZHNJbmZvIiwiZ2V0U2hpcENvb3JkcyIsImN1c3RvbWl6ZVNlY3Rpb24iLCJjb29yZEVsZW1lbnQiLCJzZXRUaW1lb3V0IiwidHJpZ2dlckludmFsaWRSVCIsImVsZW1lbnRDbGFzcyIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJzYW1lQ29vcmRzIiwiY3VzdG9taXplT3BlbiIsImdlbkluaXRpYWxFbGVtZW50cyIsImdhbWVNb2RlIiwicmFuZG9taXplQnV0dG9uIiwicmFuZG9taXplR3JpZCIsImNoYW5nZUNvb3JkQnV0dG9uIiwiaW5pdGlhbENvb3JkIiwiZnVsbENvb3JkIiwic2VsZWN0U2hpcHMiLCJjdXJyZW50U2hpcEluZGV4IiwiY29vcmRJbnB1dCIsImNvb3JkSW5wdXQxIiwiY3VzdG9taXplU2V0dXAiLCJjbGljayIsImdhbWVUdXJucyIsInBsYXllcjEiLCJwbGF5ZXIyIiwicGxheWVyMVNoaXBzIiwicGxheWVyMlNoaXBzIiwidHVybnNMb2dpYyIsImlzR2FtZU92ZXIiLCJ0dXJuTG9vcCIsInRvQXR0YWNrR3JpZCIsInNpbmdsZVBsYXllciIsIm5ld0dhbWUiLCJwbGF5ZXJPYmoiLCJjcHVPYmoiLCJjdXJyZW50VHVybiIsImNwdUdyaWQiLCJzZXR1cERPTSJdLCJzb3VyY2VSb290IjoiIn0=