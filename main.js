(()=>{"use strict";const e=(e,r)=>{let t=!1;if(JSON.stringify(e)===JSON.stringify(r)&&(t=!0),void 0===e)return t;if(void 0===r)return t;for(let s=0;s<e.length;s++){const i=e[s];JSON.stringify(i)===JSON.stringify(r)&&(t=!0)}return t},r=(()=>{const r=(e,r,t)=>{let s=r;const i=e;return{isSunk:()=>i===s,hit:()=>s++,currentHits:()=>s,currentCords:t,shipLength:i}};return{Ship:r,Gameboard:()=>{const t=[],s=[];return{receiveAttack:(r,i)=>{const c=Object.entries(i.coordinates);for(let t=0;t<c.length;t++){let n=!1;const o=c[t][1],a=c[t][0];if(e(o,r)&&(n=!0,s.push(r),"carrier"===a&&i.carrier.hit(),"battleShip"===a&&i.battleShip.hit(),"battleShip1"===a&&i.battleShip1.hit(),"cruiser"===a&&i.cruiser.hit(),"cruiser1"===a&&i.cruiser1.hit(),"cruiser2"===a&&i.cruiser2.hit(),"destroyer"===a&&i.destroyer.hit(),"destroyer1"===a&&i.destroyer1.hit(),"destroyer2"===a&&i.destroyer2.hit(),"destroyer3"===a&&i.destroyer3.hit()),!0===n)break}e(s,r)||t.push(r)},deployShips:(e,t,s,i,c,n,o,a,d,u)=>{const l={carrier:e,battleShip:t,battleShip1:s,cruiser:i,cruiser1:c,cruiser2:n,destroyer:o,destroyer1:a,destroyer2:d,destroyer3:u};return{carrier:r(4,0,l.carrier),battleShip:r(3,0,l.battleShip),battleShip1:r(3,0,l.battleShip1),cruiser:r(2,0,l.cruiser),cruiser1:r(2,0,l.cruiser1),cruiser2:r(2,0,l.cruiser2),destroyer:r(1,0,l.destroyer),destroyer1:r(1,0,l.destroyer1),destroyer2:r(1,0,l.destroyer2),destroyer3:r(1,0,l.destroyer3),coordinates:l}},missedAttacks:t,successAttacks:s,checkSunk:e=>{return!(void 0!==(r=e).carrier.currentCords&&!r.carrier.isSunk()||void 0!==r.battleShip.currentCords&&!r.battleShip.isSunk()||void 0!==r.battleShip1.currentCords&&!r.battleShip1.isSunk()||void 0!==r.cruiser.currentCords&&!r.cruiser.isSunk()||void 0!==r.cruiser1.currentCords&&!r.cruiser1.isSunk()||void 0!==r.cruiser2.currentCords&&!r.cruiser2.isSunk()||void 0!==r.destroyer.currentCords&&!r.destroyer.isSunk()||void 0!==r.destroyer1.currentCords&&!r.destroyer1.isSunk()||void 0!==r.destroyer2.currentCords&&!r.destroyer2.isSunk()||void 0!==r.destroyer3.currentCords&&!r.destroyer3.isSunk());var r}}}}})(),t=(e,t)=>{const s=e,i=r.Gameboard(),c=i.deployShips(...t);return{playerName:s,playerBoard:i,playerShips:c,receiveAttack:e=>i.receiveAttack(e,c)}},s=(t,s)=>{const i=t,c=r.Gameboard(),n=c.deployShips(...s),o=[],a=r=>{const t=e=>Math.floor(Math.random()*e),s=[t(9),t(9)];return e(o,r)||e(o,s)?a():void 0!==r?(o.push(r),i.receiveAttack(r)):i.receiveAttack(s)};return{attackPlayer:a,cpuBoard:c,cpuShips:n,receiveAttack:e=>c.receiveAttack(e,n)}},i=(e,r,i)=>{const c=t(e,r);return{Player:c,cpuPlayer:s(c,i)}},c=(()=>{const r=(e,r)=>{(t=>{const s=t=>{if(10!==t){for(let s=0;s<10;s++){const i=document.createElement("div");i.className=`${t},${s}`;const c=document.createElement("div");c.className=`${t},${s}`,null!=e&&e.appendChild(i),null!=r&&r.appendChild(c)}s(t+1)}};s(0)})()};return{startGame:(t,s,c,n)=>{const o=i("example",c,n);return null!=t&&null!=s&&(r(t,s),((r,t,s)=>{const i=s.Player.playerShips.coordinates,c=s.cpuPlayer.cpuShips.coordinates,n=e=>s.Player.receiveAttack(e),o=e=>s.cpuPlayer.receiveAttack(e),a=(r,t,s)=>{let i=!1;if(e(Object.values(r),t))return s(t),i=!0,i;for(let c=0;c<r.length;c++){const n=r[c];if(e(n,t)){s(t),i=!0;break}}return i},d=(e,r)=>{e.target.textContent=!1===r?"â€¢":"X"},u=e=>{const r=e.target.parentElement.className,t=(e=>{const r=[],t=e.slice(0,1),s=e.slice(2,3);return r.push(Number(t)),r.push(Number(s)),r})(e.target.className);if("grid-1"===r){const e=Object.values(i).filter((e=>void 0!==e));return a(e,t,n)}if("grid-2"===r){const e=Object.values(c).filter((e=>void 0!==e));return a(e,t,o)}};for(let e=0;e<r.length;e++)r[e].addEventListener("click",(e=>{!1===u(e)?d(e,!1):d(e,!0)})),t[e].addEventListener("click",(e=>{!1===u(e)?d(e,!1):d(e,!0)}))})(t.childNodes,s.childNodes,o)),{currentGame:o}},displayGrid:r,setupGame:()=>{const e=[[[0,1],[0,2],[0,3],[0,4]],[[2,1],[3,1],[4,1]],[[0,6],[0,7],[0,8]],[[3,3],[3,4]],[[6,3],[6,2]],[[6,8],[6,9]],[7,5],[9,2],[9,9],[8,7]],r=document.getElementsByClassName("grids-container")[0],t=document.createElement("div"),s=document.createElement("div");t.className="grid-1",s.className="grid-2",r.appendChild(t),r.appendChild(s),c.startGame(t,s,e,e)}}})()})();